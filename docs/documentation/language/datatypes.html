<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Data Types | Malloy Documentation</title>
    <link rel="stylesheet" href="/css/document.css" />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="/img/favicon.ico"
    />
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-0M10W7C20Y"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
    
      gtag("config", "G-0M10W7C20Y");
    </script>
    <style>
      malloy-render::part(table-container) {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div class="top">
      <div class="header">
        <div class="header-banner">
          <a href="http://www.malloydata.dev" target="_blank">
            <img
              class="logo"
              src="/img/logo.png"
              alt="malloy logo"
            />
          </a>

          Malloy
          <span class="subtitle">Documentation</span>
        </div>
        <div class="header-right">
          <div class="header-links">
            <a href="https://github.com/malloydata/malloy" target="_blank"
              ><img
                src="/img/github.svg"
                style="transform: scale(0.5)"
            /></a>
            <a href="/slack" target="_blank"
              ><img src="/img/slack.svg"
            /></a>
          </div>
          <form onSubmit="() => alert('submit')" action="/search">
            <div class="search-input-outer">
              <img src="/img/search.svg" alt="search" />
              <input placeholder="Search" id="search-input" name="query" />
            </div>
            <input type="submit" style="display: none" />
          </form>
        </div>
      </div>
      <div class="main">
        <div class="sidebar" id="sidebar">
            <div class="sidebar-section">
              <div id=about_malloy
                class="sidebar-section-title {% unless /documentation/index.html,/documentation/about/features.html,/documentation/about/tao.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                About Malloy
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation">
                <img src="/img/article_icon.svg" alt="document"/>
                What Is Malloy
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/about/features">
                <img src="/img/article_icon.svg" alt="document"/>
                Key Features
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/about/tao">
                <img src="/img/article_icon.svg" alt="document"/>
                The Tao of Malloy
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=setting_up malloy
                class="sidebar-section-title {% unless /documentation/setup/extension.html,/documentation/setup/database_support.html,/documentation/setup/config.html,/documentation/setup/cli.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Setting up Malloy
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/setup/extension">
                <img src="/img/article_icon.svg" alt="document"/>
                VS Code Extension
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/setup/database_support">
                <img src="/img/article_icon.svg" alt="document"/>
                Database Support
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/setup/config">
                <img src="/img/article_icon.svg" alt="document"/>
                Configuration
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/setup/cli">
                <img src="/img/article_icon.svg" alt="document"/>
                Malloy CLI
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=user_guides
                class="sidebar-section-title {% unless /documentation/user_guides/querying_a_model.html,/documentation/user_guides/quickstart_modeling.html,/documentation/user_guides/malloy_by_example.html,/documentation/user_guides/notebooks.html,/documentation/user_guides/publishing/explorer.html,/documentation/user_guides/publishing/publishing.html,/documentation/user_guides/publishing/connections.html,/documentation/user_guides/publishing/rest_api.html,/documentation/user_guides/publishing/publisher_sdk.html,/documentation/user_guides/publishing/mcp_agents.html,/documentation/user_guides/sql_experts1.html,/documentation/user_guides/sql_experts2.html,/documentation/user_guides/transform.html,/documentation/user_guides/malloy_for_dbt.html,/documentation/user_guides/troubleshooting.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                User Guides
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class="sidebar-section">
              <div id=getting_started
                class="sidebar-section-title {% unless /documentation/user_guides/querying_a_model.html,/documentation/user_guides/quickstart_modeling.html,/documentation/user_guides/malloy_by_example.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Getting Started
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/user_guides/querying_a_model">
                <img src="/img/article_icon.svg" alt="document"/>
                Querying a Semantic Model
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/quickstart_modeling">
                <img src="/img/article_icon.svg" alt="document"/>
                Building a Semantic Model
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/malloy_by_example">
                <img src="/img/article_icon.svg" alt="document"/>
                Advanced Modeling
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=analyzing_& exploring
                class="sidebar-section-title {% unless /documentation/user_guides/notebooks.html,/documentation/user_guides/publishing/explorer.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Analyzing & Exploring
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/user_guides/notebooks">
                <img src="/img/article_icon.svg" alt="document"/>
                Analyzing with Notebooks
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/publishing/explorer">
                <img src="/img/article_icon.svg" alt="document"/>
                Explorer UI
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=publishing
                class="sidebar-section-title {% unless /documentation/user_guides/publishing/publishing.html,/documentation/user_guides/publishing/connections.html,/documentation/user_guides/publishing/rest_api.html,/documentation/user_guides/publishing/publisher_sdk.html,/documentation/user_guides/publishing/mcp_agents.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Publishing
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/user_guides/publishing/publishing">
                <img src="/img/article_icon.svg" alt="document"/>
                Publish Your Models
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/publishing/connections">
                <img src="/img/article_icon.svg" alt="document"/>
                Publisher Connections
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/publishing/rest_api">
                <img src="/img/article_icon.svg" alt="document"/>
                REST API
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/publishing/publisher_sdk">
                <img src="/img/article_icon.svg" alt="document"/>
                Publisher SDK (React)
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/publishing/mcp_agents">
                <img src="/img/article_icon.svg" alt="document"/>
                MCP for AI Agents
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=for_sql users
                class="sidebar-section-title {% unless /documentation/user_guides/sql_experts1.html,/documentation/user_guides/sql_experts2.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                For SQL Users
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/user_guides/sql_experts1">
                <img src="/img/article_icon.svg" alt="document"/>
                Malloy for SQL Folks
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/sql_experts2">
                <img src="/img/article_icon.svg" alt="document"/>
                Refactoring SQL to Malloy
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=data_transformation
                class="sidebar-section-title {% unless /documentation/user_guides/transform.html,/documentation/user_guides/malloy_for_dbt.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Data Transformation
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/user_guides/transform">
                <img src="/img/article_icon.svg" alt="document"/>
                Transform & Materialize
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/malloy_for_dbt">
                <img src="/img/article_icon.svg" alt="document"/>
                Malloy for dbt Users
              </a>
            </div>
              </div>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/troubleshooting">
                <img src="/img/article_icon.svg" alt="document"/>
                Troubleshooting
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=language_reference
                class="sidebar-section-title {% unless /documentation/language/statement.html,/documentation/language/source.html,/documentation/language/query.html,/documentation/language/views.html,/documentation/language/datatypes.html,/documentation/language/fields.html,/documentation/language/aggregates.html,/documentation/language/expressions.html,/documentation/language/functions.html,/documentation/language/filters.html,/documentation/language/calculations_windows.html,/documentation/language/order_by.html,/documentation/language/join.html,/documentation/language/nesting.html,/documentation/language/sql_sources.html,/documentation/language/imports.html,/documentation/language/connections.html,/documentation/language/tags.html,/documentation/language/quick_reference.html,/documentation/language/changelog.html,/documentation/language/dialect/bigquery.html,/documentation/language/dialect/presto-trino.html,/documentation/language/dialect/snowflake.html,/documentation/language/dialect/mysql.html,/documentation/language/dialect/duckdb.html,/documentation/language/dialect/postgres.html,/documentation/language/dialect/mssql-via-duckdb.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Language Reference
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/language/statement">
                <img src="/img/article_icon.svg" alt="document"/>
                Models
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/source">
                <img src="/img/article_icon.svg" alt="document"/>
                Sources
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/query">
                <img src="/img/article_icon.svg" alt="document"/>
                Queries
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/views">
                <img src="/img/article_icon.svg" alt="document"/>
                Views
              </a>
            </div>
        <div class='sidebar-item active'>
              <a href="/documentation/language/datatypes">
                <img src="/img/article_icon.svg" alt="document"/>
                Data Types
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/fields">
                <img src="/img/article_icon.svg" alt="document"/>
                Fields
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/aggregates">
                <img src="/img/article_icon.svg" alt="document"/>
                Aggregates
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/expressions">
                <img src="/img/article_icon.svg" alt="document"/>
                Expressions
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/functions">
                <img src="/img/article_icon.svg" alt="document"/>
                Functions
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/filters">
                <img src="/img/article_icon.svg" alt="document"/>
                Filters
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/calculations_windows">
                <img src="/img/article_icon.svg" alt="document"/>
                Calculations (window functions)
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/order_by">
                <img src="/img/article_icon.svg" alt="document"/>
                Ordering and Limiting
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/join">
                <img src="/img/article_icon.svg" alt="document"/>
                Joins
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/nesting">
                <img src="/img/article_icon.svg" alt="document"/>
                Nested Views
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/sql_sources">
                <img src="/img/article_icon.svg" alt="document"/>
                SQL Sources
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/imports">
                <img src="/img/article_icon.svg" alt="document"/>
                Imports
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/connections">
                <img src="/img/article_icon.svg" alt="document"/>
                Connections
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/tags">
                <img src="/img/article_icon.svg" alt="document"/>
                Tags
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/quick_reference.html">
                <img src="/img/article_icon.svg" alt="document"/>
                Quick Reference
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/changelog">
                <img src="/img/article_icon.svg" alt="document"/>
                Change Log
              </a>
            </div>
        <div class="sidebar-section">
              <div id=dialects
                class="sidebar-section-title {% unless /documentation/language/dialect/bigquery.html,/documentation/language/dialect/presto-trino.html,/documentation/language/dialect/snowflake.html,/documentation/language/dialect/mysql.html,/documentation/language/dialect/duckdb.html,/documentation/language/dialect/postgres.html,/documentation/language/dialect/mssql-via-duckdb.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Dialects
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/language/dialect/bigquery">
                <img src="/img/article_icon.svg" alt="document"/>
                BigQuery
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/dialect/presto-trino">
                <img src="/img/article_icon.svg" alt="document"/>
                Presto / Trino
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/dialect/snowflake">
                <img src="/img/article_icon.svg" alt="document"/>
                Snowflake
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/dialect/mysql">
                <img src="/img/article_icon.svg" alt="document"/>
                MySQL
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/dialect/duckdb">
                <img src="/img/article_icon.svg" alt="document"/>
                DuckDB
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/dialect/postgres">
                <img src="/img/article_icon.svg" alt="document"/>
                PostgreSQL
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/dialect/mssql-via-duckdb">
                <img src="/img/article_icon.svg" alt="document"/>
                MSSQL via DuckDB
              </a>
            </div>
              </div>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=common_patterns
                class="sidebar-section-title {% unless /documentation/patterns/yoy.html,/documentation/patterns/foreign_sums.html,/documentation/patterns/reading_nested.html,/documentation/patterns/percent_of_total.html,/documentation/patterns/cohorts.html,/documentation/patterns/nested_subtotals.html,/documentation/patterns/other.html,/documentation/patterns/autobin.html,/documentation/patterns/moving_avg.html,/documentation/patterns/transform.html,/documentation/patterns/sessionize.html,/documentation/patterns/dim_index.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Common Patterns
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/patterns/yoy">
                <img src="/img/article_icon.svg" alt="document"/>
                Comparing Timeframes
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/foreign_sums">
                <img src="/img/article_icon.svg" alt="document"/>
                Foreign Sums and Averages
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/reading_nested">
                <img src="/img/article_icon.svg" alt="document"/>
                Reading Nested Data
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/percent_of_total">
                <img src="/img/article_icon.svg" alt="document"/>
                Percent of Total
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/cohorts">
                <img src="/img/article_icon.svg" alt="document"/>
                Cohort Analysis
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/nested_subtotals">
                <img src="/img/article_icon.svg" alt="document"/>
                Nested Subtotals
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/other">
                <img src="/img/article_icon.svg" alt="document"/>
                Bucketing with 'Other'
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/autobin">
                <img src="/img/article_icon.svg" alt="document"/>
                Auto-binning Histograms
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/moving_avg">
                <img src="/img/article_icon.svg" alt="document"/>
                Moving Average
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/transform">
                <img src="/img/article_icon.svg" alt="document"/>
                Transform Data
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/sessionize">
                <img src="/img/article_icon.svg" alt="document"/>
                Sessionize - Map/Reduce
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/dim_index">
                <img src="/img/article_icon.svg" alt="document"/>
                Dimensional Indexes
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=rendering_results
                class="sidebar-section-title {% unless /documentation/visualizations/about_rendering.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Rendering Results
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/visualizations/about_rendering">
                <img src="/img/article_icon.svg" alt="document"/>
                Overview
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=rendering_legacy docs
                class="sidebar-section-title {% unless /documentation/visualizations/overview.html,/documentation/visualizations/numbers.html,/documentation/visualizations/links.html,/documentation/visualizations/pivots.html,/documentation/visualizations/transpose.html,/documentation/visualizations/dashboards.html,/documentation/visualizations/lists.html,/documentation/visualizations/bar_charts.html,/documentation/visualizations/charts_line_chart.html,/documentation/visualizations/scatter_charts.html,/documentation/visualizations/shape_maps.html,/documentation/visualizations/segment_maps.html,/documentation/visualizations/legacy_renderer.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Rendering Legacy Docs
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/visualizations/overview">
                <img src="/img/article_icon.svg" alt="document"/>
                Overview
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/numbers">
                <img src="/img/article_icon.svg" alt="document"/>
                Numbers
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/links">
                <img src="/img/article_icon.svg" alt="document"/>
                Links
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/pivots">
                <img src="/img/article_icon.svg" alt="document"/>
                Pivoted Tables
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/transpose">
                <img src="/img/article_icon.svg" alt="document"/>
                Table Transpose
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/dashboards">
                <img src="/img/article_icon.svg" alt="document"/>
                Dashboards
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/lists">
                <img src="/img/article_icon.svg" alt="document"/>
                Lists
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/bar_charts">
                <img src="/img/article_icon.svg" alt="document"/>
                Bar Charts
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/charts_line_chart">
                <img src="/img/article_icon.svg" alt="document"/>
                Line Charts
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/scatter_charts">
                <img src="/img/article_icon.svg" alt="document"/>
                Scatter Charts
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/shape_maps">
                <img src="/img/article_icon.svg" alt="document"/>
                Shape Maps
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/segment_maps">
                <img src="/img/article_icon.svg" alt="document"/>
                Segment Maps
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/legacy_renderer">
                <img src="/img/article_icon.svg" alt="document"/>
                Legacy Renderer
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=malloysql
                class="sidebar-section-title {% unless /documentation/malloy_sql/index.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                MalloySQL
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/malloy_sql/index">
                <img src="/img/article_icon.svg" alt="document"/>
                Using MalloySQL
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=malloy_cli
                class="sidebar-section-title {% unless /documentation/malloy_cli/index.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Malloy CLI
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/malloy_cli/index">
                <img src="/img/article_icon.svg" alt="document"/>
                The Malloy CLI
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=malloy_with python
                class="sidebar-section-title {% unless /documentation/malloy_python/python_package.html,/documentation/malloy_python/jupyter.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Malloy with Python
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/malloy_python/python_package">
                <img src="/img/article_icon.svg" alt="document"/>
                Malloy Python Package
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/malloy_python/jupyter">
                <img src="/img/article_icon.svg" alt="document"/>
                Malloy in Jupyter Notebooks
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=experiments_(in process features)
                class="sidebar-section-title {% unless /documentation/experiments/experiments.html,/documentation/experiments/joins.html,/documentation/experiments/sql_expressions.html,/documentation/experiments/window.html,/documentation/experiments/parameters.html,/documentation/experiments/composite_sources.html,/documentation/experiments/include.html,/documentation/experiments/persistence.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Experiments (in process features)
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/experiments/experiments">
                <img src="/img/article_icon.svg" alt="document"/>
                Experiments
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/experiments/joins">
                <img src="/img/article_icon.svg" alt="document"/>
                Join INNER/RIGHT/FULL
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/experiments/sql_expressions">
                <img src="/img/article_icon.svg" alt="document"/>
                SQL Expressions
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/experiments/window">
                <img src="/img/article_icon.svg" alt="document"/>
                Window Partitions
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/experiments/parameters">
                <img src="/img/article_icon.svg" alt="document"/>
                Parameters
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/experiments/composite_sources">
                <img src="/img/article_icon.svg" alt="document"/>
                Composite "Cube" Sources
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/experiments/include">
                <img src="/img/article_icon.svg" alt="document"/>
                Access Modifiers
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/experiments/persistence">
                <img src="/img/article_icon.svg" alt="document"/>
                Persistence
              </a>
            </div>
              </div>
            </div>
          </div>        <script src="/js/sidebar_state.js"></script>
        <div class="content">
          <div class="footer">
            
<div class="linear-navigation">
  <div class="item">
      <a href="views.html"><img src="/img/previous.svg" alt="previous"/>Views</a>
  </div>
  <div class="item">
      <a href="fields.html">Fields<img src="/img/next.svg" alt="next"/></a>
  </div>
</div> 
          </div>
          <div class="document-outer"><div class="document"><div class="title-row">
        
      <h1>
        <a id="data-types-in-malloy" class="header-link anchor" href="#data-types-in-malloy">
          Data Types In Malloy
        </a>
      </h1>
    
        <a class="edit-link" target="_blank" href="https://github.dev/malloydata/malloydata.github.io/blob/main/src/documentation/language/datatypes.malloynb#C1">VSCode <img src="/img/open_notebook.svg" alt="document"/></a>
        </div>
      <p>Because Malloy writes SQL expressions, when queries are actually executed, all data will be in types understood by the SQL engine which is running the query.</p>
<p>Malloy does have a set of data types and there is a mapping between the types of the SQL engine and the Malloy datatypes, mostly this mapping is invisible.</p>

      <h2>
        <a id="number" class="header-link anchor" href="#number">
          Number
        </a>
      </h2>
    <p>Malloy has a single <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #267F99">number</span></span></code> type that encompasses all numeric data from the underlying database. Internally, Malloy tracks three subtypes to optimize display and prevent precision loss:</p>
<ul>
<li><p><strong>integer</strong> - Whole numbers within JavaScript's safe integer range (Â±9,007,199,254,740,991)</p>
</li>
<li><p><strong>bigint</strong> - Large integers that exceed the safe range but fit in 64-bit or larger integer types</p>
</li>
<li><p><strong>float</strong> - Decimal numbers</p>
</li></ul>
<p>This distinction is mostly invisible to users, but affects:</p>
<ul>
<li><p><strong>Arithmetic</strong>: Operations like <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">bigint</span><span style="color: #000000"> + </span><span style="color: #001080">integer</span></span></code> produce <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">bigint</span></span></code>; division always produces <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">float</span></span></code></p>
</li>
<li><p><strong>Display</strong>: The renderer uses the appropriate format for the number subtype</p>
</li>
<li><p><strong>Precision</strong>: Some databases may lose precision for very large integers (see below)</p>
</li></ul>

      <h3>
        <a id="database-precision-limitations" class="header-link anchor" href="#database-precision-limitations">
          Database Precision Limitations
        </a>
      </h3>
    <p>The Malloy connections for PostgreSQL, Presto, and Trino use JSON intermediate results, which cannot represent integers larger than JavaScript's safe integer limit. On these databases, very large integer values may lose precision in query results. DuckDB, BigQuery, Snowflake, and MySQL preserve full integer precision.</p>

      <h3>
        <a id="numeric-literals" class="header-link anchor" href="#numeric-literals">
          Numeric Literals
        </a>
      </h3>
    <p>Malloy has a fairly basic syntax for numeric literals</p>
<ul>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">123</span></span></code></p>
</li>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">123.4</span></span></code></p>
</li>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">.4</span></span></code></p>
</li>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">0.4</span></span></code></p>
</li>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">123E4</span></span></code></p>
</li>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">123E+4</span></span></code></p>
</li>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">123E-4</span></span></code></p>
</li></ul>

      <h2>
        <a id="string" class="header-link anchor" href="#string">
          String
        </a>
      </h2>
    <p>Strings in Malloy are wrapped in either single quotes (<code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #A31515">&#39;</span></span></code>), double quotes (<code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #A31515">&quot;</span></span></code>) or what we call the triple quote (<code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #A31515">&quot;&quot;&quot;</span></span></code>).</p>
<p>A triple quote <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #267F99">string</span></span></code> can extend over more than one line, as in</p>
<div class="code-wrapper"><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">dimension</span><span style="color: #000000">: </span><span style="color: #001080">my_poem</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #A31515">  I wrote some new code in Malloy</span></span>
<span class="line"><span style="color: #A31515">  and experienced boundless joy.</span></span>
<span class="line"><span style="color: #A31515">  It worked right away,</span></span>
<span class="line"><span style="color: #A31515">  so I just have to say</span></span>
<span class="line"><span style="color: #A31515">  &#39;This language is more than a toy.&#39;</span></span>
<span class="line"><span style="color: #A31515">&quot;&quot;&quot;</span></span></pre></div><p>Single and double quoted strings must be written on one line. They can contain a number of special
characters through the <code>\X</code> syntax.</p>
<ul>
<li><p><code>\b</code> - Backspace</p>
</li>
<li><p><code>\f</code> - Formfeed</p>
</li>
<li><p><code>\n</code> - Newline</p>
</li>
<li><p><code>\r</code> - Return</p>
</li>
<li><p><code>\t</code> - Tab</p>
</li>
<li><p><code>\'</code> - Single quote</p>
</li>
<li><p><code>\"</code> - Double quote</p>
</li></ul>

      <h2>
        <a id="boolean" class="header-link anchor" href="#boolean">
          Boolean
        </a>
      </h2>
    
      <h3>
        <a id="boolean-literals" class="header-link anchor" href="#boolean-literals">
          Boolean literals
        </a>
      </h3>
    <ul>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">true</span></span></code></p>
</li>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">false</span></span></code></p>
</li></ul>

      <h3>
        <a id="boolean-comparison-nullability" class="header-link anchor" href="#boolean-comparison-nullability">
          Boolean Comparison Nullability
        </a>
      </h3>
    <p>Malloy has one interesting difference from most SQL engines in how it handles null values.</p>
<p>For expressions which return a <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #267F99">boolean</span></span></code>, e.g. <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">might_be_null</span><span style="color: #000000"> &gt; </span><span style="color: #098658">0</span></span></code>:</p>
<ul>
<li><p>In SQL, the result is a boolean column where the value could be <code>TRUE</code>, <code>FALSE</code>, or <code>NULL</code>,</p>
</li>
<li><p>In Malloy, the result will only be <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">true</span></span></code> or <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">false</span></span></code></p>
</li></ul>
<p>This is true for all the comparison operators (<code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">&gt;</span></span></code>, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">=</span></span></code>, etc.) as well as functions which return a boolean (e.g. <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">starts_with</span></span></code>, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">is_inf</span></span></code>, etc.).</p>

      <h2>
        <a id="timestamp-and-timestamptz" class="header-link anchor" href="#timestamp-and-timestamptz">
          Timestamp and Timestamptz
        </a>
      </h2>
    <p>A <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #267F99">timestamp</span></span></code> and <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">timestamptz</span></span></code> both represent an instant in time. They work interchangeably in Malloy and have the same semantics. The distinction exists to support different database column storage formats.</p>
<p>Malloy's approach to timezone related computations is explained in the <a href="timezones">Timezones</a> section.</p>

      <h3>
        <a id="timestamp-literals" class="header-link anchor" href="#timestamp-literals">
          Timestamp literals
        </a>
      </h3>
    <p>Timestamp literals are specified in Malloy with the <code>@</code> character. Seconds and subsecond resolution are optional.</p>
<ul>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@2001-02-03 04:05:06.001</span></span></code></p>
</li>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@2001-02-03 04:05:06</span></span></code></p>
</li>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@2001-02-03 04:05</span></span></code></p>
</li></ul>
<p>A timezone can optionally be specified in square brackets:</p>
<ul>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@2001-02-03 04:05:06</span><span style="color: #000000">[</span><span style="color: #001080">America</span><span style="color: #000000">/</span><span style="color: #001080">Mexico_City</span><span style="color: #000000">]</span></span></code></p>
</li>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@2001-02-03 04:05:06.001[UTC]</span></span></code></p>
</li></ul>
<p>On databases that support <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">timestamptz</span></span></code>, embedding a timezone in a literal produces a <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">timestamptz</span></span></code> literal.</p>
<p>In addition, in any of the above, a <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">T</span></span></code> can be used instead of a space between the date and time portion of the timestamp string, as in</p>
<ul>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@2001-02-03T04:05:06.001</span></span></code></p>
</li></ul>
<p>A <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #267F99">date</span></span></code> literal, when used in an expression with a timestamp, also functions as a timestamp literal. That is</p>
<ul>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">my_timestamp</span><span style="color: #000000"> &gt; </span><span style="color: #098658">@2003</span></span></code> is equivalent to <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">my_timestamp</span><span style="color: #000000"> &gt; </span><span style="color: #098658">@2003-01-01 00:00</span></span></code></p>
</li></ul>

      <h2>
        <a id="date" class="header-link anchor" href="#date">
          Date
        </a>
      </h2>
    <p>A <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #267F99">date</span></span></code> represents combination of year, month, and day into a single data item.</p>

      <h3>
        <a id="date-literals" class="header-link anchor" href="#date-literals">
          Date Literals
        </a>
      </h3>
    <p>Date literals are specified in Malloy with the <code>@</code> character. A literal can specify a date, a week, a month, a quarter or a year.</p>
<ul>
<li><p>Date: <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@2001-02-03</span></span></code></p>
</li>
<li><p>Week: <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@2001-02-04-WK</span></span></code> ( the sunday week containing 2001-02-04 )</p>
<p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@2001-02-03-WK</span></span></code> will generate an error because that day does not start a week. The week containing 2001-02-03 that would be <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@2001-02-03</span><span style="color: #000000">.</span><span style="color: #0000FF">week</span></span></code></p>
</li>
<li><p>Month: <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@2001-02</span></span></code></p>
</li>
<li><p>Quarter: <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@2001-Q2</span></span></code></p>
</li>
<li><p>Year: <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@2001</span></span></code></p>
</li></ul>

      <h2>
        <a id="arrays" class="header-link anchor" href="#arrays">
          Arrays
        </a>
      </h2>
    <p>A column in a table, or a dimension, or a measure, can be an array of values. In Malloy every element of an array is the same type, you cannot, for example, have an array which contains both a number and a string.</p>

      <h3>
        <a id="array-access" class="header-link anchor" href="#array-access">
          Array access
        </a>
      </h3>
    <p>Data in an array is accessed as if the array was a table joined into the query with a a field called <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">each</span></span></code> which contains the value of the array. This treatment of arrays like joins is different than the typical way of handling arrays, providing suite of functions to operatate on arrays which mimic the operations available to operate on tables. While you can still pass arrays as arguments to functions, the "Malloy Way" of computing with data in arrays is to treat them like a nested table.</p>
<div class="code-wrapper"><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">measure</span><span style="color: #000000">:</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #001080">total_value</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #001080">arrayName</span><span style="color: #000000">.</span><span style="color: #001080">each</span><span style="color: #000000">.</span><span style="color: #795E26">sum</span><span style="color: #000000">()</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #001080">avg_value</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #001080">arrayName</span><span style="color: #000000">.</span><span style="color: #001080">each</span><span style="color: #000000">.</span><span style="color: #795E26">avg</span><span style="color: #000000">()</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #001080">min_value</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #001080">arrayName</span><span style="color: #000000">.</span><span style="color: #001080">each</span><span style="color: #000000">.</span><span style="color: #795E26">min</span><span style="color: #000000">()</span></span></pre></div>
      <h3>
        <a id="array-literal" class="header-link anchor" href="#array-literal">
          Array Literal
        </a>
      </h3>
    <p>An array literal is written as a comma separated list of values between a <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">[</span></span></code> and a <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">]</span></span></code></p>
<ul>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">dimension</span><span style="color: #000000">: </span><span style="color: #001080">west_coast</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> [</span><span style="color: #A31515">&#39;CA&#39;</span><span style="color: #000000">, </span><span style="color: #A31515">&#39;OR&#39;</span><span style="color: #000000">, </span><span style="color: #A31515">&#39;WA&#39;</span><span style="color: #000000">]</span></span></code></p>
</li>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">dimension</span><span style="color: #000000">: </span><span style="color: #001080">even_digits</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> [</span><span style="color: #098658">2</span><span style="color: #000000">, </span><span style="color: #098658">4</span><span style="color: #000000">, </span><span style="color: #098658">6</span><span style="color: #000000">, </span><span style="color: #098658">8</span><span style="color: #000000">]</span></span></code></p>
</li></ul>

      <h2>
        <a id="records-and-repeated-records" class="header-link anchor" href="#records-and-repeated-records">
          Records and Repeated Records
        </a>
      </h2>
    <p>These data types have various names in SQL dialects, "Object", and "Structure" are two common words. A record in malloy is a set of key value pairs.</p>

      <h3>
        <a id="record-literal" class="header-link anchor" href="#record-literal">
          Record Literal
        </a>
      </h3>
    <ul>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">dimension</span><span style="color: #000000">: </span><span style="color: #001080">owner</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> {</span><span style="color: #001080">first_name</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;Marl&#39;</span><span style="color: #000000">, </span><span style="color: #001080">last_name</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;Sobyn&#39;</span><span style="color: #000000">, </span><span style="color: #001080">birthday</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #098658">@1994-05-17</span><span style="color: #000000">}</span></span></code></p>
</li>
<li><p>The "<em>name</em> <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">is</span></span></code>" part of a record field can be left out if the value of the field is a dotted path, for example, these two record literals are identical</p>
<ul>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">{</span><span style="color: #001080">first_name</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #001080">first_name</span><span style="color: #000000">, </span><span style="color: #001080">last_name</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #001080">parent_join</span><span style="color: #000000">.</span><span style="color: #001080">last_name</span><span style="color: #000000">}</span></span></code></p>
</li>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">{</span><span style="color: #001080">first_name</span><span style="color: #000000">, </span><span style="color: #001080">parent_join</span><span style="color: #000000">.</span><span style="color: #001080">last_name</span><span style="color: #000000">}</span></span></code></p>
</li></ul>
</li></ul>

      <h3>
        <a id="record-access" class="header-link anchor" href="#record-access">
          Record Access
        </a>
      </h3>
    <p>Data in a record is accesed with the dot (<code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">.</span></span></code>) operator.</p>
<ul>
<li><p><code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">dimension</span><span style="color: #000000">: </span><span style="color: #001080">bigLastName</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #795E26">upper</span><span style="color: #000000">(</span><span style="color: #001080">person</span><span style="color: #000000">.</span><span style="color: #001080">last_name</span><span style="color: #000000">)</span></span></code></p>
</li></ul>

      <h3>
        <a id="repeated-record-literal" class="header-link anchor" href="#repeated-record-literal">
          Repeated Record Literal
        </a>
      </h3>
    <p>A repeated record is written as an array of records</p>
<div class="code-wrapper"><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">dimension</span><span style="color: #000000">: </span><span style="color: #001080">pets</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> [</span></span>
<span class="line"><span style="color: #000000">  {</span><span style="color: #001080">name</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;Rover&#39;</span><span style="color: #000000">, </span><span style="color: #001080">type</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;dog&#39;</span><span style="color: #000000">},</span></span>
<span class="line"><span style="color: #000000">  {</span><span style="color: #001080">name</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;Mister Stare&#39;</span><span style="color: #000000">, </span><span style="color: #001080">type</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;cat&#39;</span><span style="color: #000000">},</span></span>
<span class="line"><span style="color: #000000">  {</span><span style="color: #001080">name</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;Swimmy McSwimmerson&#39;</span><span style="color: #000000">, </span><span style="color: #001080">type</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;fish&#39;</span><span style="color: #000000">}</span></span>
<span class="line"><span style="color: #000000">]</span></span></pre></div><p>The names of each field can be omitted after the first record, for example, here is that same declaration written slightly more concisely:</p>
<div class="code-wrapper"><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">dimension</span><span style="color: #000000">: </span><span style="color: #001080">pets</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> [</span></span>
<span class="line"><span style="color: #000000">  {</span><span style="color: #001080">name</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;Rover&#39;</span><span style="color: #000000">, </span><span style="color: #001080">type</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;dog&#39;</span><span style="color: #000000">},</span></span>
<span class="line"><span style="color: #000000">  {</span><span style="color: #A31515">&#39;Mister Stare&#39;</span><span style="color: #000000">, </span><span style="color: #A31515">&#39;cat&#39;</span><span style="color: #000000">},</span></span>
<span class="line"><span style="color: #000000">  {</span><span style="color: #A31515">&#39;Swimmy McSwimmerson&#39;</span><span style="color: #000000">, </span><span style="color: #A31515">&#39;fish&#39;</span><span style="color: #000000">}</span></span>
<span class="line"><span style="color: #000000">]</span></span></pre></div><p>There are a</p>

      <h3>
        <a id="repeated-record-access" class="header-link anchor" href="#repeated-record-access">
          Repeated record access
        </a>
      </h3>
    <p>Though the literal form of a repeated record looks like an array, the contents of a repeated record are accessed directly, (not using <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">.</span><span style="color: #001080">each</span></span></code> as you would in an array). Accessing a field of a repeated record will unnest that record and join it into the query.</p>

      <h2>
        <a id="unsupported-sql-native-data" class="header-link anchor" href="#unsupported-sql-native-data">
          Unsupported SQL native data
        </a>
      </h2>
    <p>Malloy may not have a corresponding data type for every data type which the SQL engine supports.</p>
<p>Columns in sources which Malloy does not have a datatype for are considered "unsupported." The following operations are legal on unsupported SQL native types and should allow data sets which contains data in these unknown types to still be useful in Malloy even if Malloy doesn't understand the data.</p>
<ul>
<li><p>Two expressions of the same type can be compared</p>
</li>
<li><p>An unsupported SQL native type can be compared to <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">NULL</span></span></code></p>
</li>
<li><p>An expression of unsupported SQL native type can be cast to a supported type</p>
</li></ul>

      <h2>
        <a id="intermediate-types" class="header-link anchor" href="#intermediate-types">
          Intermediate Types
        </a>
      </h2>
    <p>The following types are not assignable to fields, and are
therefore considered <em>intermediate types</em>, in that they are
primarily used to represent part of a computation that
yields a regular scalar type, often <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #267F99">boolean</span></span></code>.</p>

      <h3>
        <a id="regular-expressions" class="header-link anchor" href="#regular-expressions">
          Regular Expressions
        </a>
      </h3>
    <p>Literal regular expressions are enclosed in single quotation
marks <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #A31515">&#39;</span></span></code> and preceded by either <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">/</span></span></code> or <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">r</span></span></code>, e.g. <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #811F3F">/&#39;.*&#39;</span></span></code> or <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #811F3F">r&#39;.*&#39;</span></span></code>. Both syntaxes are semantically equivalent.</p>
<p>In the future, the literal regular expressions will likely
be simply slash-enclosed, e.g <code>/.*/</code>.</p>
<p>Values of type <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #267F99">string</span></span></code> may be compared against regular
expressions using either the <a href="apply">apply operator</a>, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">name</span><span style="color: #000000"> ? </span><span style="color: #811F3F">r&#39;c.*&#39;</span></span></code> or the like operator, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">name</span><span style="color: #000000"> ~ </span><span style="color: #811F3F">r&#39;c.*&#39;</span></span></code>.</p>

      <h3>
        <a id="ranges" class="header-link anchor" href="#ranges">
          Ranges
        </a>
      </h3>
    <p>There are three types of ranges today: <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #267F99">number</span></span></code> ranges, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #267F99">date</span></span></code> ranges, and <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #267F99">timestamp</span></span></code> ranges. The most basic ranges
are of the form <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">start</span><span style="color: #000000"> </span><span style="color: #0000FF">to</span><span style="color: #000000"> </span><span style="color: #001080">end</span></span></code> and represent the range from <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">start</span></span></code> up to, but not including, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">end</span></span></code>, e.g. <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">10</span><span style="color: #000000"> </span><span style="color: #0000FF">to</span><span style="color: #000000"> </span><span style="color: #098658">20</span></span></code> or <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">@2004-01</span><span style="color: #000000"> </span><span style="color: #0000FF">to</span><span style="color: #000000"> </span><span style="color: #098658">@2005-05</span></span></code>.</p>
<p>Ranges may be used in conjunction with the <a href="apply">apply operator</a> to test whether a value falls within a given range.</p>

      <h3>
        <a id="alternations-and-partials" class="header-link anchor" href="#alternations-and-partials">
          Alternations and Partials
        </a>
      </h3>
    <p><em>Partials</em> represent a "part of" a comparison.
Specifically, a partial is a comparison missing its
left-hand side, and represents the condition of the
comparison yielding <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">true</span></span></code> if a given value were to be
filled in for that missing left-hand side. For example, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">&gt; </span><span style="color: #098658">10</span></span></code> is a partial that represents the condition "is greater
than ten." Likewise, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">!= </span><span style="color: #A31515">&#39;CA&#39;</span></span></code> is a partial that represents the condition of not being equal to <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #A31515">&#39;CA&#39;</span></span></code>.</p>
<p><em>Alternations</em> are combinations of partials representing
either the logical union ("or") or conjunction ("and") of
their conditions. Alternations are represented using the
union alternation operator <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">|</span></span></code> and the conjunction
alternation operator <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">&amp;</span></span></code>.</p>
<p>For example, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">= </span><span style="color: #A31515">&#39;CA&#39;</span><span style="color: #000000"> | = </span><span style="color: #A31515">&#39;NY&#39;</span></span></code> represents the condition of being equal to 'CA' or <em>alternatively</em> being equal to 'NY'. On the other hand, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">!= </span><span style="color: #A31515">&#39;CA&#39;</span><span style="color: #000000"> &amp; != </span><span style="color: #A31515">&#39;NY&#39;</span></span></code> represents the condition of being not equal to 'CA' <em>as well as</em> being not equal to 'NY'.</p>
<p>Scalar values, regular expressions, and
ranges may also be used in alternations, in which case the
condition is assumed to be that of equality, matching, and
inclusion respectively.</p>
<p>For example, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #A31515">&#39;CA&#39;</span><span style="color: #000000"> | </span><span style="color: #811F3F">r&#39;N.*&#39;</span></span></code> represents the condition of being equal to 'CA' or starting with 'N', and <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #098658">10</span><span style="color: #000000"> </span><span style="color: #0000FF">to</span><span style="color: #000000"> </span><span style="color: #098658">20</span><span style="color: #000000"> | </span><span style="color: #098658">20</span><span style="color: #000000"> </span><span style="color: #0000FF">to</span><span style="color: #000000"> </span><span style="color: #098658">30</span></span></code> represents the condition of being <em>either</em> between 10 and 20 <em>or</em> 20 and 30.</p>
<p>Alternations and partials may be used in conjunction with the <a href="apply">apply operator</a> to test whether a value meets the given condition.</p>

      <h2>
        <a id="nullability" class="header-link anchor" href="#nullability">
          Nullability
        </a>
      </h2>
    <p>Today, all Malloy types include the value <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">null</span></span></code>.</p>
</div></div>
        </div>
        <script src="/js/view_toggles.js"></script>
        <script src="/js/jump_to_hash.js"></script>
      </div>
    </div>
    <div id="banner_wrapper">
      <div id="banner">
        <div>
          This site uses cookies from Google to deliver its services and to analyze
          traffic.
          <a
            href="https://policies.google.com/technologies/cookies"
            target="_blank"
          >
            Learn more
          </a>
        </div>
        <button id="banner_button">I Understand</button>
      </div>
    </div>
    <script src="/js/banner.js"></script>
    <script src="/js/generated/malloy-render-0.0.282.js"></script>
  </body>
</html>
