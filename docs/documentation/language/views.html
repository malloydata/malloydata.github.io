<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Views | Malloy Documentation</title>
    <link rel="stylesheet" href="/css/document.css" />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="/img/favicon.ico"
    />
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-0M10W7C20Y"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
    
      gtag("config", "G-0M10W7C20Y");
    </script>
    <style>
      malloy-render::part(table-container) {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div class="top">
      <div class="header">
        <div class="header-banner">
          <a href="http://www.malloydata.dev" target="_blank">
            <img
              class="logo"
              src="/img/logo.png"
              alt="malloy logo"
            />
          </a>

          Malloy
          <span class="subtitle">Documentation</span>
        </div>
        <div class="header-right">
          <div class="header-links">
            <a href="https://github.com/malloydata/malloy" target="_blank"
              ><img
                src="/img/github.svg"
                style="transform: scale(0.5)"
            /></a>
            <a href="/slack" target="_blank"
              ><img src="/img/slack.svg"
            /></a>
          </div>
          <form onSubmit="() => alert('submit')" action="/search">
            <div class="search-input-outer">
              <img src="/img/search.svg" alt="search" />
              <input placeholder="Search" id="search-input" name="query" />
            </div>
            <input type="submit" style="display: none" />
          </form>
        </div>
      </div>
      <div class="main">
        <div class="sidebar" id="sidebar">
            <div class="sidebar-section">
              <div id=about_malloy
                class="sidebar-section-title {% unless /documentation/index.html,/documentation/about/features.html,/documentation/about/tao.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                About Malloy
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation">
                <img src="/img/article_icon.svg" alt="document"/>
                What Is Malloy
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/about/features">
                <img src="/img/article_icon.svg" alt="document"/>
                Key Features
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/about/tao">
                <img src="/img/article_icon.svg" alt="document"/>
                The Tao of Malloy
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=setting_up malloy
                class="sidebar-section-title {% unless /documentation/setup/extension.html,/documentation/setup/database_support.html,/documentation/setup/config.html,/documentation/setup/cli.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Setting up Malloy
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/setup/extension">
                <img src="/img/article_icon.svg" alt="document"/>
                VS Code Extension
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/setup/database_support">
                <img src="/img/article_icon.svg" alt="document"/>
                Database Support
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/setup/config">
                <img src="/img/article_icon.svg" alt="document"/>
                Configuration
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/setup/cli">
                <img src="/img/article_icon.svg" alt="document"/>
                Malloy CLI
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=user_guides
                class="sidebar-section-title {% unless /documentation/user_guides/querying_a_model.html,/documentation/user_guides/quickstart_modeling.html,/documentation/user_guides/malloy_by_example.html,/documentation/user_guides/notebooks.html,/documentation/user_guides/publishing/explorer.html,/documentation/user_guides/publishing/publishing.html,/documentation/user_guides/publishing/connections.html,/documentation/user_guides/publishing/rest_api.html,/documentation/user_guides/publishing/publisher_sdk.html,/documentation/user_guides/publishing/mcp_agents.html,/documentation/user_guides/sql_experts1.html,/documentation/user_guides/sql_experts2.html,/documentation/user_guides/transform.html,/documentation/user_guides/malloy_for_dbt.html,/documentation/user_guides/troubleshooting.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                User Guides
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class="sidebar-section">
              <div id=getting_started
                class="sidebar-section-title {% unless /documentation/user_guides/querying_a_model.html,/documentation/user_guides/quickstart_modeling.html,/documentation/user_guides/malloy_by_example.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Getting Started
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/user_guides/querying_a_model">
                <img src="/img/article_icon.svg" alt="document"/>
                Querying a Semantic Model
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/quickstart_modeling">
                <img src="/img/article_icon.svg" alt="document"/>
                Building a Semantic Model
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/malloy_by_example">
                <img src="/img/article_icon.svg" alt="document"/>
                Advanced Modeling
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=analyzing_& exploring
                class="sidebar-section-title {% unless /documentation/user_guides/notebooks.html,/documentation/user_guides/publishing/explorer.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Analyzing & Exploring
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/user_guides/notebooks">
                <img src="/img/article_icon.svg" alt="document"/>
                Analyzing with Notebooks
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/publishing/explorer">
                <img src="/img/article_icon.svg" alt="document"/>
                Explorer UI
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=publishing
                class="sidebar-section-title {% unless /documentation/user_guides/publishing/publishing.html,/documentation/user_guides/publishing/connections.html,/documentation/user_guides/publishing/rest_api.html,/documentation/user_guides/publishing/publisher_sdk.html,/documentation/user_guides/publishing/mcp_agents.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Publishing
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/user_guides/publishing/publishing">
                <img src="/img/article_icon.svg" alt="document"/>
                Publish Your Models
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/publishing/connections">
                <img src="/img/article_icon.svg" alt="document"/>
                Publisher Connections
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/publishing/rest_api">
                <img src="/img/article_icon.svg" alt="document"/>
                REST API
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/publishing/publisher_sdk">
                <img src="/img/article_icon.svg" alt="document"/>
                Publisher SDK (React)
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/publishing/mcp_agents">
                <img src="/img/article_icon.svg" alt="document"/>
                MCP for AI Agents
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=for_sql users
                class="sidebar-section-title {% unless /documentation/user_guides/sql_experts1.html,/documentation/user_guides/sql_experts2.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                For SQL Users
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/user_guides/sql_experts1">
                <img src="/img/article_icon.svg" alt="document"/>
                Malloy for SQL Folks
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/sql_experts2">
                <img src="/img/article_icon.svg" alt="document"/>
                Refactoring SQL to Malloy
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=data_transformation
                class="sidebar-section-title {% unless /documentation/user_guides/transform.html,/documentation/user_guides/malloy_for_dbt.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Data Transformation
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/user_guides/transform">
                <img src="/img/article_icon.svg" alt="document"/>
                Transform & Materialize
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/malloy_for_dbt">
                <img src="/img/article_icon.svg" alt="document"/>
                Malloy for dbt Users
              </a>
            </div>
              </div>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/user_guides/troubleshooting">
                <img src="/img/article_icon.svg" alt="document"/>
                Troubleshooting
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=language_reference
                class="sidebar-section-title {% unless /documentation/language/statement.html,/documentation/language/source.html,/documentation/language/query.html,/documentation/language/views.html,/documentation/language/datatypes.html,/documentation/language/fields.html,/documentation/language/aggregates.html,/documentation/language/expressions.html,/documentation/language/functions.html,/documentation/language/filters.html,/documentation/language/calculations_windows.html,/documentation/language/order_by.html,/documentation/language/join.html,/documentation/language/nesting.html,/documentation/language/sql_sources.html,/documentation/language/imports.html,/documentation/language/connections.html,/documentation/language/tags.html,/documentation/language/quick_reference.html,/documentation/language/changelog.html,/documentation/language/dialect/bigquery.html,/documentation/language/dialect/presto-trino.html,/documentation/language/dialect/snowflake.html,/documentation/language/dialect/mysql.html,/documentation/language/dialect/duckdb.html,/documentation/language/dialect/postgres.html,/documentation/language/dialect/mssql-via-duckdb.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Language Reference
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/language/statement">
                <img src="/img/article_icon.svg" alt="document"/>
                Models
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/source">
                <img src="/img/article_icon.svg" alt="document"/>
                Sources
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/query">
                <img src="/img/article_icon.svg" alt="document"/>
                Queries
              </a>
            </div>
        <div class='sidebar-item active'>
              <a href="/documentation/language/views">
                <img src="/img/article_icon.svg" alt="document"/>
                Views
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/datatypes">
                <img src="/img/article_icon.svg" alt="document"/>
                Data Types
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/fields">
                <img src="/img/article_icon.svg" alt="document"/>
                Fields
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/aggregates">
                <img src="/img/article_icon.svg" alt="document"/>
                Aggregates
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/expressions">
                <img src="/img/article_icon.svg" alt="document"/>
                Expressions
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/functions">
                <img src="/img/article_icon.svg" alt="document"/>
                Functions
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/filters">
                <img src="/img/article_icon.svg" alt="document"/>
                Filters
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/calculations_windows">
                <img src="/img/article_icon.svg" alt="document"/>
                Calculations (window functions)
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/order_by">
                <img src="/img/article_icon.svg" alt="document"/>
                Ordering and Limiting
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/join">
                <img src="/img/article_icon.svg" alt="document"/>
                Joins
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/nesting">
                <img src="/img/article_icon.svg" alt="document"/>
                Nested Views
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/sql_sources">
                <img src="/img/article_icon.svg" alt="document"/>
                SQL Sources
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/imports">
                <img src="/img/article_icon.svg" alt="document"/>
                Imports
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/connections">
                <img src="/img/article_icon.svg" alt="document"/>
                Connections
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/tags">
                <img src="/img/article_icon.svg" alt="document"/>
                Tags
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/quick_reference.html">
                <img src="/img/article_icon.svg" alt="document"/>
                Quick Reference
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/changelog">
                <img src="/img/article_icon.svg" alt="document"/>
                Change Log
              </a>
            </div>
        <div class="sidebar-section">
              <div id=dialects
                class="sidebar-section-title {% unless /documentation/language/dialect/bigquery.html,/documentation/language/dialect/presto-trino.html,/documentation/language/dialect/snowflake.html,/documentation/language/dialect/mysql.html,/documentation/language/dialect/duckdb.html,/documentation/language/dialect/postgres.html,/documentation/language/dialect/mssql-via-duckdb.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Dialects
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/language/dialect/bigquery">
                <img src="/img/article_icon.svg" alt="document"/>
                BigQuery
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/dialect/presto-trino">
                <img src="/img/article_icon.svg" alt="document"/>
                Presto / Trino
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/dialect/snowflake">
                <img src="/img/article_icon.svg" alt="document"/>
                Snowflake
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/dialect/mysql">
                <img src="/img/article_icon.svg" alt="document"/>
                MySQL
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/dialect/duckdb">
                <img src="/img/article_icon.svg" alt="document"/>
                DuckDB
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/dialect/postgres">
                <img src="/img/article_icon.svg" alt="document"/>
                PostgreSQL
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/language/dialect/mssql-via-duckdb">
                <img src="/img/article_icon.svg" alt="document"/>
                MSSQL via DuckDB
              </a>
            </div>
              </div>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=common_patterns
                class="sidebar-section-title {% unless /documentation/patterns/yoy.html,/documentation/patterns/foreign_sums.html,/documentation/patterns/reading_nested.html,/documentation/patterns/percent_of_total.html,/documentation/patterns/cohorts.html,/documentation/patterns/nested_subtotals.html,/documentation/patterns/other.html,/documentation/patterns/autobin.html,/documentation/patterns/moving_avg.html,/documentation/patterns/transform.html,/documentation/patterns/sessionize.html,/documentation/patterns/dim_index.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Common Patterns
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/patterns/yoy">
                <img src="/img/article_icon.svg" alt="document"/>
                Comparing Timeframes
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/foreign_sums">
                <img src="/img/article_icon.svg" alt="document"/>
                Foreign Sums and Averages
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/reading_nested">
                <img src="/img/article_icon.svg" alt="document"/>
                Reading Nested Data
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/percent_of_total">
                <img src="/img/article_icon.svg" alt="document"/>
                Percent of Total
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/cohorts">
                <img src="/img/article_icon.svg" alt="document"/>
                Cohort Analysis
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/nested_subtotals">
                <img src="/img/article_icon.svg" alt="document"/>
                Nested Subtotals
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/other">
                <img src="/img/article_icon.svg" alt="document"/>
                Bucketing with 'Other'
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/autobin">
                <img src="/img/article_icon.svg" alt="document"/>
                Auto-binning Histograms
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/moving_avg">
                <img src="/img/article_icon.svg" alt="document"/>
                Moving Average
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/transform">
                <img src="/img/article_icon.svg" alt="document"/>
                Transform Data
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/sessionize">
                <img src="/img/article_icon.svg" alt="document"/>
                Sessionize - Map/Reduce
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/patterns/dim_index">
                <img src="/img/article_icon.svg" alt="document"/>
                Dimensional Indexes
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=rendering_results
                class="sidebar-section-title {% unless /documentation/visualizations/about_rendering.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Rendering Results
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/visualizations/about_rendering">
                <img src="/img/article_icon.svg" alt="document"/>
                Overview
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=rendering_legacy docs
                class="sidebar-section-title {% unless /documentation/visualizations/overview.html,/documentation/visualizations/numbers.html,/documentation/visualizations/links.html,/documentation/visualizations/pivots.html,/documentation/visualizations/transpose.html,/documentation/visualizations/dashboards.html,/documentation/visualizations/lists.html,/documentation/visualizations/bar_charts.html,/documentation/visualizations/charts_line_chart.html,/documentation/visualizations/scatter_charts.html,/documentation/visualizations/shape_maps.html,/documentation/visualizations/segment_maps.html,/documentation/visualizations/legacy_renderer.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Rendering Legacy Docs
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/visualizations/overview">
                <img src="/img/article_icon.svg" alt="document"/>
                Overview
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/numbers">
                <img src="/img/article_icon.svg" alt="document"/>
                Numbers
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/links">
                <img src="/img/article_icon.svg" alt="document"/>
                Links
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/pivots">
                <img src="/img/article_icon.svg" alt="document"/>
                Pivoted Tables
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/transpose">
                <img src="/img/article_icon.svg" alt="document"/>
                Table Transpose
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/dashboards">
                <img src="/img/article_icon.svg" alt="document"/>
                Dashboards
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/lists">
                <img src="/img/article_icon.svg" alt="document"/>
                Lists
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/bar_charts">
                <img src="/img/article_icon.svg" alt="document"/>
                Bar Charts
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/charts_line_chart">
                <img src="/img/article_icon.svg" alt="document"/>
                Line Charts
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/scatter_charts">
                <img src="/img/article_icon.svg" alt="document"/>
                Scatter Charts
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/shape_maps">
                <img src="/img/article_icon.svg" alt="document"/>
                Shape Maps
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/segment_maps">
                <img src="/img/article_icon.svg" alt="document"/>
                Segment Maps
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/visualizations/legacy_renderer">
                <img src="/img/article_icon.svg" alt="document"/>
                Legacy Renderer
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=malloysql
                class="sidebar-section-title {% unless /documentation/malloy_sql/index.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                MalloySQL
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/malloy_sql/index">
                <img src="/img/article_icon.svg" alt="document"/>
                Using MalloySQL
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=malloy_cli
                class="sidebar-section-title {% unless /documentation/malloy_cli/index.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Malloy CLI
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/malloy_cli/index">
                <img src="/img/article_icon.svg" alt="document"/>
                The Malloy CLI
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=malloy_with python
                class="sidebar-section-title {% unless /documentation/malloy_python/python_package.html,/documentation/malloy_python/jupyter.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Malloy with Python
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/malloy_python/python_package">
                <img src="/img/article_icon.svg" alt="document"/>
                Malloy Python Package
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/malloy_python/jupyter">
                <img src="/img/article_icon.svg" alt="document"/>
                Malloy in Jupyter Notebooks
              </a>
            </div>
              </div>
            </div>
        <div class="sidebar-section">
              <div id=experiments_(in process features)
                class="sidebar-section-title {% unless /documentation/experiments/experiments.html,/documentation/experiments/joins.html,/documentation/experiments/sql_expressions.html,/documentation/experiments/window.html,/documentation/experiments/parameters.html,/documentation/experiments/composite_sources.html,/documentation/experiments/include.html,/documentation/experiments/persistence.html contains page.url)} %}collapsed-this-isnt-working-its-always-collapsed-ben-took-it-out{% endunless %}"
              >
                Experiments (in process features)
                <img class="chevron-open" src="/img/section_open.svg" alt="section open"/>
                <img class="chevron-closed" src="/img/section_close.svg" alt="section closed"/>
              </div>
              <div class="sidebar-section-item-group">
                <div class='sidebar-item '>
              <a href="/documentation/experiments/experiments">
                <img src="/img/article_icon.svg" alt="document"/>
                Experiments
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/experiments/joins">
                <img src="/img/article_icon.svg" alt="document"/>
                Join INNER/RIGHT/FULL
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/experiments/sql_expressions">
                <img src="/img/article_icon.svg" alt="document"/>
                SQL Expressions
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/experiments/window">
                <img src="/img/article_icon.svg" alt="document"/>
                Window Partitions
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/experiments/parameters">
                <img src="/img/article_icon.svg" alt="document"/>
                Parameters
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/experiments/composite_sources">
                <img src="/img/article_icon.svg" alt="document"/>
                Composite "Cube" Sources
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/experiments/include">
                <img src="/img/article_icon.svg" alt="document"/>
                Access Modifiers
              </a>
            </div>
        <div class='sidebar-item '>
              <a href="/documentation/experiments/persistence">
                <img src="/img/article_icon.svg" alt="document"/>
                Persistence
              </a>
            </div>
              </div>
            </div>
          </div>        <script src="/js/sidebar_state.js"></script>
        <div class="content">
          <div class="footer">
            
<div class="linear-navigation">
  <div class="item">
      <a href="query.html"><img src="/img/previous.svg" alt="previous"/>Queries</a>
  </div>
  <div class="item">
      <a href="datatypes.html">Data Types<img src="/img/next.svg" alt="next"/></a>
  </div>
</div> 
          </div>
          <div class="document-outer"><div class="document"><div class="title-row">
        
      <h1>
        <a id="views" class="header-link anchor" href="#views">
          Views
        </a>
      </h1>
    
        <a class="edit-link" target="_blank" href="https://github.dev/malloydata/malloydata.github.io/blob/main/src/documentation/language/views.malloynb#C1">VSCode <img src="/img/open_notebook.svg" alt="document"/></a>
        </div>
      <p>Malloy separates queries into a <em>source</em> and a <em>view</em> on that source. Views can be defined in a source or used directly in queries. Views that are named as part of a <a href="./source#source-extensions">source extension</a> can be reused, nested, and refined.</p>
<p>A view consists of one or more <em>stages</em> separated by <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">-&gt;</span></span></code>s. Most views only have one stage, but <a href="#multi-stage-views">multi-stage views</a> can be used for more complex analysis.</p>

      <h2>
        <a id="reduction-vs-projection" class="header-link anchor" href="#reduction-vs-projection">
          Reduction vs Projection
        </a>
      </h2>
    <p>Each stage of a view performs a transformation of one of two kinds:</p>
<ul>
<li><p><strong>Reduction</strong>: reduce the grain of the data</p>
</li>
<li><p><strong>Projection</strong>: select fields without reducing</p>
</li></ul>
<p>Reductions use <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">group_by</span><span style="color: #000000">:</span></span></code> and/or <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">aggregate</span><span style="color: #000000">:</span></span></code>, whereas projections use <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">select</span><span style="color: #000000">:</span></span></code>.</p>
<div class="code-wrapper"></div>
      <h3>
        <a id="reduction" class="header-link anchor" href="#reduction">
          Reduction
        </a>
      </h3>
    <p>The following is an example of a <strong>reduction</strong>:</p>
<div class="code-wrapper"><a href="https://github.dev/malloydata/malloydata.github.io/blob/main/src/documentation/language/views.malloynb#C4" target="_blank" class="open_notebook"><img src="/img/open_notebook.svg" alt="document"/></a><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">run</span><span style="color: #000000">: </span><span style="color: #001080">flights</span><span style="color: #000000"> -&gt; {</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">group_by</span><span style="color: #000000">: </span><span style="color: #001080">carrier</span><span style="color: #000000">        </span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">aggregate</span><span style="color: #000000">: </span><span style="color: #001080">flight_count</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #795E26">count</span><span style="color: #000000">()</span></span>
<span class="line"><span style="color: #000000">}</span></span></pre><div class="result-outer small">
    <div class="result-controls-bar">
      <span class="result-label">QUERY RESULTS</span>
      <div class="result-controls">
        <button class="result-control" selected data-result-kind="html">HTML</button>
        <button class="result-control"  data-result-kind="json">JSON</button>
        <button class="result-control"  data-result-kind="sql">SQL</button>
      </div>
    </div>
    <div class="result-middle" data-result-kind="html" selected>
      <div class="result-inner" id="b9a57221-079c-4764-b192-c06e1e2ddfbc">
        <script>(()=>{var e=document.getElementById("b9a57221-079c-4764-b192-c06e1e2ddfbc"),t=document.createElement("malloy-render");t.modelDef={name:"",exports:[],contents:{carriers:{type:"table",name:"duckdb:../data/carriers.parquet",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},as:"carriers",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_models:{type:"table",name:"duckdb:../data/aircraft_models.parquet",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},as:"aircraft_models",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft:{type:"table",name:"duckdb:../data/aircraft.parquet",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},as:"aircraft",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_facts:{type:"query_source",name:"QuerySource-980d3ee8-a48c-48a2-a22a-a92688f26739",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},as:"aircraft_facts",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},flights:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sessionize_delta_southwest:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day",drillView:"sessionize"},{type:"fieldref",path:["carrier"],drillView:"sessionize"},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"sessionize"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"sessionize"}],filterList:[{node:"filterCondition",code:"carrier ? 'WN' | 'DL'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["carrier"]},oneOf:[{node:"stringLiteral",literal:"WN"},{node:"stringLiteral",literal:"DL"}]}},expressionType:"scalar",fieldUsage:[{path:["carrier"]}]},{node:"filterCondition",code:"dep_time ? @2002-03-03",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-03 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-04 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]},{path:["carrier"]},{path:["dep_time"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],name:"sessionize_delta_southwest",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},kayak_query_sj_to_la:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],drillView:"kayak"}],filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]},{node:"filterCondition",code:"destination.code ? 'LAX' | 'BUR'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["destination","code"]},oneOf:[{node:"stringLiteral",literal:"LAX"},{node:"stringLiteral",literal:"BUR"}]}},expressionType:"scalar",fieldUsage:[{path:["destination","code"]}]},{node:"filterCondition",code:"dep_time ? @2004-01-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-02 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]},{path:["origin_code"]},{path:["origin","code"]},{path:["destination_code"]},{path:["destination","code"]},{path:["dep_time"]},{path:["dep_time"]}]}],name:"kayak_query_sj_to_la",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},southwest_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Southwest'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Southwest"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"southwest_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},jetblue_dashbaord:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Jetblue'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Jetblue"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"jetblue_dashbaord",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sjc_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sjc_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sfo_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SFO'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SFO"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sfo_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}},queryList:[{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},arguments:{}},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],filterList:[],fieldUsage:[{path:["carrier"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],modelAnnotation:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}],dependencies:{},annotation:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},references:[{type:"exploreReference",text:"flights",definition:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}},{type:"fieldReference",definition:{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},text:"carrier"}],imports:[]},t.queryResult={lastStageName:"__stage0",malloy:"",sql:'SELECT \n   base."carrier" as "carrier",\n   COUNT(1) as "flight_count"\nFROM \'../data/flights.parquet\' as base\nGROUP BY 1\nORDER BY 2 desc NULLS LAST\n',dependenciesToMaterialize:{},structs:[{type:"query_result",name:"__stage0",fields:[{name:"carrier",type:"string",resultMetadata:{sourceField:"carrier",sourceClasses:["carrier"],referenceId:"f55fa38b-f891-45d5-8718-07c7bd51ce78",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"flight_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"flight_count",sourceExpression:"count()",sourceClasses:["flight_count"],referenceId:"68cd5c72-c59b-4317-be68-dfc3c2a72010",filterList:[],fieldKind:"measure"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:2,character:13},end:{line:2,character:36}}}}],dialect:"duckdb",primaryKey:"carrier",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"flight_count",dir:"desc"}],drillable:!0},modelAnnotation:{notes:[{text:"##(docs) hidden\n",at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:0},end:{line:0,character:16}}}}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}],sourceExplore:"flights",sourceArguments:{},connectionName:"duckdb",result:[{carrier:"WN",flight_count:88751},{carrier:"US",flight_count:37683},{carrier:"AA",flight_count:34577},{carrier:"NW",flight_count:33580},{carrier:"UA",flight_count:32757}],totalRows:5},e.appendChild(t)})();</script>
      </div>
    </div>
    <div class="result-middle" data-result-kind="json" >
      <div class="result-inner">
        <pre><pre class="language-json" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">[</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;WN&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">88751</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;US&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">37683</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;AA&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">34577</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;NW&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">33580</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;UA&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">32757</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">]</span></span></pre></pre>
      </div>
    </div>
    <div class="result-middle" data-result-kind="sql" >
      <div class="result-inner">
        <pre><pre class="language-sql" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">SELECT</span><span style="color: #000000"> </span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;carrier&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;carrier&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   </span><span style="color: #795E26">COUNT</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">) </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_count&quot;</span></span>
<span class="line"><span style="color: #0000FF">FROM</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;../data/flights.parquet&#39;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> base</span></span>
<span class="line"><span style="color: #0000FF">GROUP BY</span><span style="color: #000000"> </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #0000FF">ORDER BY</span><span style="color: #000000"> </span><span style="color: #098658">2</span><span style="color: #000000"> </span><span style="color: #0000FF">desc</span><span style="color: #000000"> NULLS </span><span style="color: #0000FF">LAST</span></span>
<span class="line"></span></pre></pre>
      </div>
    </div>
  </div></div>
      <h3>
        <a id="projection" class="header-link anchor" href="#projection">
          Projection
        </a>
      </h3>
    <p>The following is an example of a <strong>projection</strong>:</p>
<div class="code-wrapper"><a href="https://github.dev/malloydata/malloydata.github.io/blob/main/src/documentation/language/views.malloynb#C6" target="_blank" class="open_notebook"><img src="/img/open_notebook.svg" alt="document"/></a><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">run</span><span style="color: #000000">: </span><span style="color: #001080">flights</span><span style="color: #000000"> -&gt; {</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">select</span><span style="color: #000000">: *</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">limit</span><span style="color: #000000">: </span><span style="color: #098658">20</span></span>
<span class="line"><span style="color: #000000">}</span></span></pre><div class="result-outer small">
    <div class="result-controls-bar">
      <span class="result-label">QUERY RESULTS</span>
      <div class="result-controls">
        <button class="result-control" selected data-result-kind="html">HTML</button>
        <button class="result-control"  data-result-kind="json">JSON</button>
        <button class="result-control"  data-result-kind="sql">SQL</button>
      </div>
    </div>
    <div class="result-middle" data-result-kind="html" selected>
      <div class="result-inner" id="7a5c5330-1688-41dd-9db0-e482c235047a">
        <script>(()=>{var e=document.getElementById("7a5c5330-1688-41dd-9db0-e482c235047a"),t=document.createElement("malloy-render");t.modelDef={name:"",exports:[],contents:{carriers:{type:"table",name:"duckdb:../data/carriers.parquet",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},as:"carriers",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_models:{type:"table",name:"duckdb:../data/aircraft_models.parquet",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},as:"aircraft_models",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft:{type:"table",name:"duckdb:../data/aircraft.parquet",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},as:"aircraft",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_facts:{type:"query_source",name:"QuerySource-980d3ee8-a48c-48a2-a22a-a92688f26739",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},as:"aircraft_facts",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},flights:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sessionize_delta_southwest:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day",drillView:"sessionize"},{type:"fieldref",path:["carrier"],drillView:"sessionize"},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"sessionize"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"sessionize"}],filterList:[{node:"filterCondition",code:"carrier ? 'WN' | 'DL'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["carrier"]},oneOf:[{node:"stringLiteral",literal:"WN"},{node:"stringLiteral",literal:"DL"}]}},expressionType:"scalar",fieldUsage:[{path:["carrier"]}]},{node:"filterCondition",code:"dep_time ? @2002-03-03",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-03 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-04 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]},{path:["carrier"]},{path:["dep_time"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],name:"sessionize_delta_southwest",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},kayak_query_sj_to_la:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],drillView:"kayak"}],filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]},{node:"filterCondition",code:"destination.code ? 'LAX' | 'BUR'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["destination","code"]},oneOf:[{node:"stringLiteral",literal:"LAX"},{node:"stringLiteral",literal:"BUR"}]}},expressionType:"scalar",fieldUsage:[{path:["destination","code"]}]},{node:"filterCondition",code:"dep_time ? @2004-01-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-02 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]},{path:["origin_code"]},{path:["origin","code"]},{path:["destination_code"]},{path:["destination","code"]},{path:["dep_time"]},{path:["dep_time"]}]}],name:"kayak_query_sj_to_la",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},southwest_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Southwest'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Southwest"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"southwest_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},jetblue_dashbaord:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Jetblue'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Jetblue"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"jetblue_dashbaord",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sjc_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sjc_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sfo_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SFO'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SFO"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sfo_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}},queryList:[{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},arguments:{}},pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],limit:20,filterList:[],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],modelAnnotation:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}],dependencies:{},annotation:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},references:[{type:"exploreReference",text:"flights",definition:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}}],imports:[]},t.queryResult={lastStageName:"__stage0",malloy:"",sql:'SELECT \n   base."arr_delay" as "arr_delay",\n   base."arr_time" as "arr_time",\n   base."cancelled" as "cancelled",\n   base."carrier" as "carrier",\n   base."dep_delay" as "dep_delay",\n   base."dep_time" as "dep_time",\n   base."destination" as "destination_code",\n   base."distance" as "distance",\n   base."diverted" as "diverted",\n   base."flight_num" as "flight_num",\n   base."flight_time" as "flight_time",\n   base."id2" as "id2",\n   base."origin" as "origin_code",\n   base."tail_num" as "tail_num",\n   base."taxi_in" as "taxi_in",\n   base."taxi_out" as "taxi_out"\nFROM \'../data/flights.parquet\' as base\nLIMIT 20\n',dependenciesToMaterialize:{},structs:[{type:"query_result",name:"__stage0",fields:[{name:"arr_delay",numberType:"integer",type:"number",resultMetadata:{sourceField:"arr_delay",sourceClasses:["arr_delay"],referenceId:"e93e4f41-2271-4636-a137-76bcc0f1b32c",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"arr_time",type:"timestamp",resultMetadata:{sourceField:"arr_time",sourceClasses:["arr_time"],referenceId:"754268b2-ecc6-4d0a-b530-1c02c2634f74",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"cancelled",type:"string",resultMetadata:{sourceField:"cancelled",sourceClasses:["cancelled"],referenceId:"aa078f0a-b0db-42de-a6e5-7d56d23562af",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"carrier",type:"string",resultMetadata:{sourceField:"carrier",sourceClasses:["carrier"],referenceId:"7a29fba5-5733-44fe-9eec-1e89231626c9",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"dep_delay",numberType:"integer",type:"number",resultMetadata:{sourceField:"dep_delay",sourceClasses:["dep_delay"],referenceId:"ca8fe049-aec5-4715-b8ac-c0cb1c2acc32",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"dep_time",type:"timestamp",resultMetadata:{sourceField:"dep_time",sourceClasses:["dep_time"],referenceId:"cc55a7b5-36b2-4fae-8d03-8833ec39d17b",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"destination_code",type:"string",resultMetadata:{sourceField:"destination",sourceClasses:["destination"],referenceId:"f1bd7fe7-701f-441b-9607-54cce582ff28",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:33,character:10},end:{line:33,character:41}}}},{name:"distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"distance",sourceClasses:["distance"],referenceId:"338050da-b3f8-41c1-9e4b-fb4c009deb35",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"diverted",type:"string",resultMetadata:{sourceField:"diverted",sourceClasses:["diverted"],referenceId:"a933711b-91e7-4aea-ad7b-4573fe50d8f3",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"flight_num",type:"string",resultMetadata:{sourceField:"flight_num",sourceClasses:["flight_num"],referenceId:"6585e5d7-b411-416d-a389-9b70e773d6e4",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"flight_time",numberType:"integer",type:"number",resultMetadata:{sourceField:"flight_time",sourceClasses:["flight_time"],referenceId:"f2aa1523-f4d4-4219-9833-95f9845f73cd",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"id2",numberType:"integer",type:"number",resultMetadata:{sourceField:"id2",sourceClasses:["id2"],referenceId:"bd06a3b4-d032-46d6-999f-8b9e0d7a9900",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"origin_code",type:"string",resultMetadata:{sourceField:"origin",sourceClasses:["origin"],referenceId:"84b4dce0-97b3-40c6-8b85-051d25087e18",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:32,character:10},end:{line:32,character:31}}}},{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"c5bfe4a3-e136-4330-af74-581efc25fb17",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"taxi_in",numberType:"integer",type:"number",resultMetadata:{sourceField:"taxi_in",sourceClasses:["taxi_in"],referenceId:"cdd0c6f7-50cb-4ad1-b88e-cee8f54f1771",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"taxi_out",numberType:"integer",type:"number",resultMetadata:{sourceField:"taxi_out",sourceClasses:["taxi_out"],referenceId:"4848034c-29a5-42e6-a5da-3add8dcd6161",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}}],dialect:"duckdb",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",limit:20,drillable:!0},modelAnnotation:{notes:[{text:"##(docs) hidden\n",at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:0},end:{line:0,character:16}}}}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}],sourceExplore:"flights",sourceArguments:{},connectionName:"duckdb",result:[{arr_delay:-6,arr_time:"2004-11-18T23:09:00.000Z",cancelled:"N",carrier:"US",dep_delay:-3,dep_time:"2004-11-18T22:32:00.000Z",destination_code:"ABE",distance:55,diverted:"N",flight_num:"1692",flight_time:15,id2:30272525,origin_code:"PHL",tail_num:"N806MD",taxi_in:4,taxi_out:18},{arr_delay:0,arr_time:"2004-10-12T21:28:00.000Z",cancelled:"N",carrier:"US",dep_delay:6,dep_time:"2004-10-12T20:46:00.000Z",destination_code:"ABE",distance:55,diverted:"N",flight_num:"1650",flight_time:18,id2:29742442,origin_code:"PHL",tail_num:"N806MD",taxi_in:4,taxi_out:20},{arr_delay:2,arr_time:"2004-11-24T11:14:00.000Z",cancelled:"N",carrier:"US",dep_delay:0,dep_time:"2004-11-24T10:20:00.000Z",destination_code:"ABE",distance:55,diverted:"N",flight_num:"1616",flight_time:19,id2:30270885,origin_code:"PHL",tail_num:"N816MA",taxi_in:5,taxi_out:30},{arr_delay:-19,arr_time:"2004-08-31T21:06:00.000Z",cancelled:"N",carrier:"US",dep_delay:0,dep_time:"2004-08-31T20:30:00.000Z",destination_code:"ABE",distance:55,diverted:"N",flight_num:"1650",flight_time:17,id2:28344746,origin_code:"PHL",tail_num:"N806MD",taxi_in:4,taxi_out:15},{arr_delay:-19,arr_time:"2004-07-27T10:59:00.000Z",cancelled:"N",carrier:"US",dep_delay:-4,dep_time:"2004-07-27T10:21:00.000Z",destination_code:"ABE",distance:55,diverted:"N",flight_num:"1643",flight_time:17,id2:27898410,origin_code:"PHL",tail_num:"N806MD",taxi_in:4,taxi_out:17}],totalRows:5},e.appendChild(t)})();</script>
      </div>
    </div>
    <div class="result-middle" data-result-kind="json" >
      <div class="result-inner">
        <pre><pre class="language-json" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">[</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;arr_delay&quot;</span><span style="color: #000000">: </span><span style="color: #098658">-6</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;arr_time&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;2004-11-18T23:09:00.000Z&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;cancelled&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;N&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;US&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;dep_delay&quot;</span><span style="color: #000000">: </span><span style="color: #098658">-3</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;dep_time&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;2004-11-18T22:32:00.000Z&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;destination_code&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;ABE&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;distance&quot;</span><span style="color: #000000">: </span><span style="color: #098658">55</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;diverted&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;N&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_num&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;1692&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_time&quot;</span><span style="color: #000000">: </span><span style="color: #098658">15</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;id2&quot;</span><span style="color: #000000">: </span><span style="color: #098658">30272525</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;origin_code&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;PHL&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;tail_num&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;N806MD&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;taxi_in&quot;</span><span style="color: #000000">: </span><span style="color: #098658">4</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;taxi_out&quot;</span><span style="color: #000000">: </span><span style="color: #098658">18</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;arr_delay&quot;</span><span style="color: #000000">: </span><span style="color: #098658">0</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;arr_time&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;2004-10-12T21:28:00.000Z&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;cancelled&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;N&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;US&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;dep_delay&quot;</span><span style="color: #000000">: </span><span style="color: #098658">6</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;dep_time&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;2004-10-12T20:46:00.000Z&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;destination_code&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;ABE&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;distance&quot;</span><span style="color: #000000">: </span><span style="color: #098658">55</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;diverted&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;N&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_num&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;1650&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_time&quot;</span><span style="color: #000000">: </span><span style="color: #098658">18</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;id2&quot;</span><span style="color: #000000">: </span><span style="color: #098658">29742442</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;origin_code&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;PHL&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;tail_num&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;N806MD&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;taxi_in&quot;</span><span style="color: #000000">: </span><span style="color: #098658">4</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;taxi_out&quot;</span><span style="color: #000000">: </span><span style="color: #098658">20</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;arr_delay&quot;</span><span style="color: #000000">: </span><span style="color: #098658">2</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;arr_time&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;2004-11-24T11:14:00.000Z&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;cancelled&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;N&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;US&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;dep_delay&quot;</span><span style="color: #000000">: </span><span style="color: #098658">0</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;dep_time&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;2004-11-24T10:20:00.000Z&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;destination_code&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;ABE&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;distance&quot;</span><span style="color: #000000">: </span><span style="color: #098658">55</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;diverted&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;N&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_num&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;1616&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_time&quot;</span><span style="color: #000000">: </span><span style="color: #098658">19</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;id2&quot;</span><span style="color: #000000">: </span><span style="color: #098658">30270885</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;origin_code&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;PHL&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;tail_num&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;N816MA&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;taxi_in&quot;</span><span style="color: #000000">: </span><span style="color: #098658">5</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;taxi_out&quot;</span><span style="color: #000000">: </span><span style="color: #098658">30</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;arr_delay&quot;</span><span style="color: #000000">: </span><span style="color: #098658">-19</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;arr_time&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;2004-08-31T21:06:00.000Z&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;cancelled&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;N&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;US&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;dep_delay&quot;</span><span style="color: #000000">: </span><span style="color: #098658">0</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;dep_time&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;2004-08-31T20:30:00.000Z&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;destination_code&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;ABE&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;distance&quot;</span><span style="color: #000000">: </span><span style="color: #098658">55</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;diverted&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;N&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_num&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;1650&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_time&quot;</span><span style="color: #000000">: </span><span style="color: #098658">17</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;id2&quot;</span><span style="color: #000000">: </span><span style="color: #098658">28344746</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;origin_code&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;PHL&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;tail_num&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;N806MD&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;taxi_in&quot;</span><span style="color: #000000">: </span><span style="color: #098658">4</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;taxi_out&quot;</span><span style="color: #000000">: </span><span style="color: #098658">15</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;arr_delay&quot;</span><span style="color: #000000">: </span><span style="color: #098658">-19</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;arr_time&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;2004-07-27T10:59:00.000Z&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;cancelled&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;N&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;US&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;dep_delay&quot;</span><span style="color: #000000">: </span><span style="color: #098658">-4</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;dep_time&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;2004-07-27T10:21:00.000Z&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;destination_code&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;ABE&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;distance&quot;</span><span style="color: #000000">: </span><span style="color: #098658">55</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;diverted&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;N&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_num&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;1643&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_time&quot;</span><span style="color: #000000">: </span><span style="color: #098658">17</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;id2&quot;</span><span style="color: #000000">: </span><span style="color: #098658">27898410</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;origin_code&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;PHL&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;tail_num&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;N806MD&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;taxi_in&quot;</span><span style="color: #000000">: </span><span style="color: #098658">4</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;taxi_out&quot;</span><span style="color: #000000">: </span><span style="color: #098658">17</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">]</span></span></pre></pre>
      </div>
    </div>
    <div class="result-middle" data-result-kind="sql" >
      <div class="result-inner">
        <pre><pre class="language-sql" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">SELECT</span><span style="color: #000000"> </span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;arr_delay&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;arr_delay&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;arr_time&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;arr_time&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;cancelled&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;cancelled&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;carrier&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;carrier&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;dep_delay&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;dep_delay&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;dep_time&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;dep_time&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;destination&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;destination_code&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;distance&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;distance&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;diverted&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;diverted&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;flight_num&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_num&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;flight_time&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_time&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;id2&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;id2&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;origin&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;origin_code&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;tail_num&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;tail_num&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;taxi_in&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;taxi_in&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;taxi_out&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;taxi_out&quot;</span></span>
<span class="line"><span style="color: #0000FF">FROM</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;../data/flights.parquet&#39;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> base</span></span>
<span class="line"><span style="color: #0000FF">LIMIT</span><span style="color: #000000"> </span><span style="color: #098658">20</span></span>
<span class="line"></span></pre></pre>
      </div>
    </div>
  </div></div><p>Note that the operations in a stage are for the most part not order-sensitive like SQL; they can be arranged in any order.</p>

      <h2>
        <a id="view-operations" class="header-link anchor" href="#view-operations">
          View Operations
        </a>
      </h2>
    <p>Views can contain a number of different kinds of operations which affect the behavior of the transformation. The following sections describe these various operations.</p>

      <h3>
        <a id="fields" class="header-link anchor" href="#fields">
          Fields
        </a>
      </h3>
    <p>In a stage, fields (dimensions, measures,
views, and calculations) may be specified either by referencing an existing
name or defining them inline.</p>
<div class="code-wrapper"><a href="https://github.dev/malloydata/malloydata.github.io/blob/main/src/documentation/language/views.malloynb#C8" target="_blank" class="open_notebook"><img src="/img/open_notebook.svg" alt="document"/></a><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">run</span><span style="color: #000000">: </span><span style="color: #001080">flights</span><span style="color: #000000"> -&gt; {</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">group_by</span><span style="color: #000000">: </span><span style="color: #001080">carrier</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">aggregate</span><span style="color: #000000">: </span><span style="color: #001080">flight_count</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #795E26">count</span><span style="color: #000000">()</span></span>
<span class="line"><span style="color: #000000">}</span></span></pre><div class="result-outer small">
    <div class="result-controls-bar">
      <span class="result-label">QUERY RESULTS</span>
      <div class="result-controls">
        <button class="result-control" selected data-result-kind="html">HTML</button>
        <button class="result-control"  data-result-kind="json">JSON</button>
        <button class="result-control"  data-result-kind="sql">SQL</button>
      </div>
    </div>
    <div class="result-middle" data-result-kind="html" selected>
      <div class="result-inner" id="fa774af4-7296-48c4-9741-3e749b815db0">
        <script>(()=>{var e=document.getElementById("fa774af4-7296-48c4-9741-3e749b815db0"),t=document.createElement("malloy-render");t.modelDef={name:"",exports:[],contents:{carriers:{type:"table",name:"duckdb:../data/carriers.parquet",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},as:"carriers",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_models:{type:"table",name:"duckdb:../data/aircraft_models.parquet",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},as:"aircraft_models",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft:{type:"table",name:"duckdb:../data/aircraft.parquet",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},as:"aircraft",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_facts:{type:"query_source",name:"QuerySource-980d3ee8-a48c-48a2-a22a-a92688f26739",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},as:"aircraft_facts",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},flights:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sessionize_delta_southwest:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day",drillView:"sessionize"},{type:"fieldref",path:["carrier"],drillView:"sessionize"},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"sessionize"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"sessionize"}],filterList:[{node:"filterCondition",code:"carrier ? 'WN' | 'DL'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["carrier"]},oneOf:[{node:"stringLiteral",literal:"WN"},{node:"stringLiteral",literal:"DL"}]}},expressionType:"scalar",fieldUsage:[{path:["carrier"]}]},{node:"filterCondition",code:"dep_time ? @2002-03-03",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-03 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-04 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]},{path:["carrier"]},{path:["dep_time"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],name:"sessionize_delta_southwest",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},kayak_query_sj_to_la:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],drillView:"kayak"}],filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]},{node:"filterCondition",code:"destination.code ? 'LAX' | 'BUR'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["destination","code"]},oneOf:[{node:"stringLiteral",literal:"LAX"},{node:"stringLiteral",literal:"BUR"}]}},expressionType:"scalar",fieldUsage:[{path:["destination","code"]}]},{node:"filterCondition",code:"dep_time ? @2004-01-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-02 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]},{path:["origin_code"]},{path:["origin","code"]},{path:["destination_code"]},{path:["destination","code"]},{path:["dep_time"]},{path:["dep_time"]}]}],name:"kayak_query_sj_to_la",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},southwest_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Southwest'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Southwest"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"southwest_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},jetblue_dashbaord:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Jetblue'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Jetblue"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"jetblue_dashbaord",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sjc_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sjc_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sfo_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SFO'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SFO"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sfo_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}},queryList:[{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},arguments:{}},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],filterList:[],fieldUsage:[{path:["carrier"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],modelAnnotation:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}],dependencies:{},annotation:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},references:[{type:"exploreReference",text:"flights",definition:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}},{type:"fieldReference",definition:{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},text:"carrier"}],imports:[]},t.queryResult={lastStageName:"__stage0",malloy:"",sql:'SELECT \n   base."carrier" as "carrier",\n   COUNT(1) as "flight_count"\nFROM \'../data/flights.parquet\' as base\nGROUP BY 1\nORDER BY 2 desc NULLS LAST\n',dependenciesToMaterialize:{},structs:[{type:"query_result",name:"__stage0",fields:[{name:"carrier",type:"string",resultMetadata:{sourceField:"carrier",sourceClasses:["carrier"],referenceId:"45fa5ca2-ddd7-4eeb-a322-80c82d0189a6",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"flight_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"flight_count",sourceExpression:"count()",sourceClasses:["flight_count"],referenceId:"ea6c0e83-08e9-4c12-a091-8e997fa6dc2b",filterList:[],fieldKind:"measure"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:2,character:13},end:{line:2,character:36}}}}],dialect:"duckdb",primaryKey:"carrier",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"flight_count",dir:"desc"}],drillable:!0},modelAnnotation:{notes:[{text:"##(docs) hidden\n",at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:0},end:{line:0,character:16}}}}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}],sourceExplore:"flights",sourceArguments:{},connectionName:"duckdb",result:[{carrier:"WN",flight_count:88751},{carrier:"US",flight_count:37683},{carrier:"AA",flight_count:34577},{carrier:"NW",flight_count:33580},{carrier:"UA",flight_count:32757}],totalRows:5},e.appendChild(t)})();</script>
      </div>
    </div>
    <div class="result-middle" data-result-kind="json" >
      <div class="result-inner">
        <pre><pre class="language-json" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">[</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;WN&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">88751</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;US&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">37683</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;AA&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">34577</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;NW&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">33580</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;UA&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">32757</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">]</span></span></pre></pre>
      </div>
    </div>
    <div class="result-middle" data-result-kind="sql" >
      <div class="result-inner">
        <pre><pre class="language-sql" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">SELECT</span><span style="color: #000000"> </span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;carrier&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;carrier&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   </span><span style="color: #795E26">COUNT</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">) </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_count&quot;</span></span>
<span class="line"><span style="color: #0000FF">FROM</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;../data/flights.parquet&#39;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> base</span></span>
<span class="line"><span style="color: #0000FF">GROUP BY</span><span style="color: #000000"> </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #0000FF">ORDER BY</span><span style="color: #000000"> </span><span style="color: #098658">2</span><span style="color: #000000"> </span><span style="color: #0000FF">desc</span><span style="color: #000000"> NULLS </span><span style="color: #0000FF">LAST</span></span>
<span class="line"></span></pre></pre>
      </div>
    </div>
  </div></div><p>Dimensions are included with <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">group_by</span></span></code> (or <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">select</span></span></code> in a projection), measures are included with <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">aggregate</span><span style="color: #000000">:</span></span></code>, and views are nested with <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">nest</span><span style="color: #000000">:</span></span></code>.</p>
<p>When referencing existing fields in a <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">select</span><span style="color: #000000">:</span></span></code> clause, wildcard expressions like <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">*</span></span></code>, or <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">some_join</span><span style="color: #000000">.*</span></span></code> may be used.</p>
<p>See the <a href="fields">Fields</a> section for more information
about the different kinds of fields and how they can be
defined.</p>

      <h3>
        <a id="filters" class="header-link anchor" href="#filters">
          Filters
        </a>
      </h3>
    <p>Filters can be included in a view with <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">where</span><span style="color: #000000">:</span></span></code>, which is equivalent to SQL's <code>WHERE</code> clause.</p>
<div class="code-wrapper"><a href="https://github.dev/malloydata/malloydata.github.io/blob/main/src/documentation/language/views.malloynb#C10" target="_blank" class="open_notebook"><img src="/img/open_notebook.svg" alt="document"/></a><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">run</span><span style="color: #000000">: </span><span style="color: #001080">flights</span><span style="color: #000000"> -&gt; {</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">where</span><span style="color: #000000">: </span><span style="color: #001080">distance</span><span style="color: #000000"> &gt; </span><span style="color: #098658">1000</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">group_by</span><span style="color: #000000">: </span><span style="color: #001080">distance</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">aggregate</span><span style="color: #000000">: </span><span style="color: #001080">flight_count</span></span>
<span class="line"><span style="color: #000000">}</span></span></pre><div class="result-outer small">
    <div class="result-controls-bar">
      <span class="result-label">QUERY RESULTS</span>
      <div class="result-controls">
        <button class="result-control" selected data-result-kind="html">HTML</button>
        <button class="result-control"  data-result-kind="json">JSON</button>
        <button class="result-control"  data-result-kind="sql">SQL</button>
      </div>
    </div>
    <div class="result-middle" data-result-kind="html" selected>
      <div class="result-inner" id="ee730730-3cfc-4797-9e94-806ba1ed634c">
        <script>(()=>{var e=document.getElementById("ee730730-3cfc-4797-9e94-806ba1ed634c"),t=document.createElement("malloy-render");t.modelDef={name:"",exports:[],contents:{carriers:{type:"table",name:"duckdb:../data/carriers.parquet",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},as:"carriers",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_models:{type:"table",name:"duckdb:../data/aircraft_models.parquet",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},as:"aircraft_models",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft:{type:"table",name:"duckdb:../data/aircraft.parquet",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},as:"aircraft",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_facts:{type:"query_source",name:"QuerySource-980d3ee8-a48c-48a2-a22a-a92688f26739",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},as:"aircraft_facts",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},flights:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sessionize_delta_southwest:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day",drillView:"sessionize"},{type:"fieldref",path:["carrier"],drillView:"sessionize"},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"sessionize"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"sessionize"}],filterList:[{node:"filterCondition",code:"carrier ? 'WN' | 'DL'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["carrier"]},oneOf:[{node:"stringLiteral",literal:"WN"},{node:"stringLiteral",literal:"DL"}]}},expressionType:"scalar",fieldUsage:[{path:["carrier"]}]},{node:"filterCondition",code:"dep_time ? @2002-03-03",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-03 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-04 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]},{path:["carrier"]},{path:["dep_time"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],name:"sessionize_delta_southwest",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},kayak_query_sj_to_la:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],drillView:"kayak"}],filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]},{node:"filterCondition",code:"destination.code ? 'LAX' | 'BUR'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["destination","code"]},oneOf:[{node:"stringLiteral",literal:"LAX"},{node:"stringLiteral",literal:"BUR"}]}},expressionType:"scalar",fieldUsage:[{path:["destination","code"]}]},{node:"filterCondition",code:"dep_time ? @2004-01-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-02 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]},{path:["origin_code"]},{path:["origin","code"]},{path:["destination_code"]},{path:["destination","code"]},{path:["dep_time"]},{path:["dep_time"]}]}],name:"kayak_query_sj_to_la",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},southwest_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Southwest'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Southwest"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"southwest_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},jetblue_dashbaord:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Jetblue'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Jetblue"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"jetblue_dashbaord",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sjc_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sjc_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sfo_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SFO'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SFO"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sfo_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}},queryList:[{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},arguments:{}},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["distance"]},{type:"fieldref",path:["flight_count"]}],filterList:[{node:"filterCondition",code:"distance > 1000",e:{node:">",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"1000"}}},expressionType:"scalar",fieldUsage:[{path:["distance"]}]}],fieldUsage:[{path:["distance"]},{path:["distance"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],modelAnnotation:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}],dependencies:{},annotation:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},references:[{type:"exploreReference",text:"flights",definition:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}},{type:"fieldReference",definition:{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},text:"distance"},{type:"fieldReference",definition:{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},text:"distance"},{type:"fieldReference",definition:{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},text:"flight_count"}],imports:[]},t.queryResult={lastStageName:"__stage0",malloy:"",sql:'SELECT \n   base."distance" as "distance",\n   COUNT(1) as "flight_count"\nFROM \'../data/flights.parquet\' as base\nWHERE base."distance">1000\nGROUP BY 1\nORDER BY 2 desc NULLS LAST\n',dependenciesToMaterialize:{},structs:[{type:"query_result",name:"__stage0",fields:[{name:"distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"distance",sourceClasses:["distance"],referenceId:"15d92080-af7a-41f1-9ff2-9029bcfd8a2e",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"flight_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"flight_count",sourceExpression:"count()",sourceClasses:["flight_count"],referenceId:"86c5d55f-0065-47e2-a612-5a659d365791",filterList:[],fieldKind:"measure"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:42,character:4},end:{line:42,character:27}}}}],dialect:"duckdb",primaryKey:"distance",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[{node:"filterCondition",code:"distance > 1000",e:{node:">",kids:{left:{node:"field",path:["distance"],at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:1,character:9},end:{line:1,character:17}}},sql:'base."distance"'},right:{node:"numberLiteral",literal:"1000",sql:"1000"}}},expressionType:"scalar",fieldUsage:[{path:["distance"],at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:1,character:9},end:{line:1,character:17}}}}]}],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"flight_count",dir:"desc"}],drillable:!0},modelAnnotation:{notes:[{text:"##(docs) hidden\n",at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:0},end:{line:0,character:16}}}}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}],sourceExplore:"flights",sourceArguments:{},connectionName:"duckdb",result:[{distance:1050,flight_count:1156},{distance:2288,flight_count:1153},{distance:1009,flight_count:1093},{distance:1235,flight_count:1093},{distance:1020,flight_count:1084}],totalRows:5},e.appendChild(t)})();</script>
      </div>
    </div>
    <div class="result-middle" data-result-kind="json" >
      <div class="result-inner">
        <pre><pre class="language-json" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">[</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;distance&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1050</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1156</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;distance&quot;</span><span style="color: #000000">: </span><span style="color: #098658">2288</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1153</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;distance&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1009</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1093</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;distance&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1235</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1093</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;distance&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1020</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1084</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">]</span></span></pre></pre>
      </div>
    </div>
    <div class="result-middle" data-result-kind="sql" >
      <div class="result-inner">
        <pre><pre class="language-sql" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">SELECT</span><span style="color: #000000"> </span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;distance&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;distance&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   </span><span style="color: #795E26">COUNT</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">) </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_count&quot;</span></span>
<span class="line"><span style="color: #0000FF">FROM</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;../data/flights.parquet&#39;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> base</span></span>
<span class="line"><span style="color: #0000FF">WHERE</span><span style="color: #000000"> base.</span><span style="color: #A31515">&quot;distance&quot;</span><span style="color: #000000">&gt;</span><span style="color: #098658">1000</span></span>
<span class="line"><span style="color: #0000FF">GROUP BY</span><span style="color: #000000"> </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #0000FF">ORDER BY</span><span style="color: #000000"> </span><span style="color: #098658">2</span><span style="color: #000000"> </span><span style="color: #0000FF">desc</span><span style="color: #000000"> NULLS </span><span style="color: #0000FF">LAST</span></span>
<span class="line"></span></pre></pre>
      </div>
    </div>
  </div></div><p>Filters may be also be applied to a <a href="source#filtering-sources">source</a>, or a <a href="expressions#filtered-expressions">measure</a>.</p>
<p>See the <a href="filters">Filters</a> section for more information.</p>
<p>See <a href="#post-aggregation-filtering">Post-Aggregation Filtering</a> below for information about <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">having</span><span style="color: #000000">:</span></span></code>.</p>

      <h3>
        <a id="ordering-and-limiting" class="header-link anchor" href="#ordering-and-limiting">
          Ordering and Limiting
        </a>
      </h3>
    <p>Views may also include ordering and limiting specifications.</p>
<div class="code-wrapper"><a href="https://github.dev/malloydata/malloydata.github.io/blob/main/src/documentation/language/views.malloynb#C12" target="_blank" class="open_notebook"><img src="/img/open_notebook.svg" alt="document"/></a><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">run</span><span style="color: #000000">: </span><span style="color: #001080">flights</span><span style="color: #000000"> -&gt; {</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">limit</span><span style="color: #000000">: </span><span style="color: #098658">4</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">group_by</span><span style="color: #000000">: </span><span style="color: #001080">carrier</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">aggregate</span><span style="color: #000000">: </span><span style="color: #001080">flight_count</span></span>
<span class="line"><span style="color: #000000">}</span></span></pre><div class="result-outer small">
    <div class="result-controls-bar">
      <span class="result-label">QUERY RESULTS</span>
      <div class="result-controls">
        <button class="result-control" selected data-result-kind="html">HTML</button>
        <button class="result-control"  data-result-kind="json">JSON</button>
        <button class="result-control"  data-result-kind="sql">SQL</button>
      </div>
    </div>
    <div class="result-middle" data-result-kind="html" selected>
      <div class="result-inner" id="2eb533c2-a83f-48fa-9b3b-ed39ed640cec">
        <script>(()=>{var e=document.getElementById("2eb533c2-a83f-48fa-9b3b-ed39ed640cec"),t=document.createElement("malloy-render");t.modelDef={name:"",exports:[],contents:{carriers:{type:"table",name:"duckdb:../data/carriers.parquet",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},as:"carriers",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_models:{type:"table",name:"duckdb:../data/aircraft_models.parquet",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},as:"aircraft_models",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft:{type:"table",name:"duckdb:../data/aircraft.parquet",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},as:"aircraft",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_facts:{type:"query_source",name:"QuerySource-980d3ee8-a48c-48a2-a22a-a92688f26739",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},as:"aircraft_facts",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},flights:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sessionize_delta_southwest:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day",drillView:"sessionize"},{type:"fieldref",path:["carrier"],drillView:"sessionize"},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"sessionize"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"sessionize"}],filterList:[{node:"filterCondition",code:"carrier ? 'WN' | 'DL'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["carrier"]},oneOf:[{node:"stringLiteral",literal:"WN"},{node:"stringLiteral",literal:"DL"}]}},expressionType:"scalar",fieldUsage:[{path:["carrier"]}]},{node:"filterCondition",code:"dep_time ? @2002-03-03",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-03 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-04 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]},{path:["carrier"]},{path:["dep_time"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],name:"sessionize_delta_southwest",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},kayak_query_sj_to_la:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],drillView:"kayak"}],filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]},{node:"filterCondition",code:"destination.code ? 'LAX' | 'BUR'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["destination","code"]},oneOf:[{node:"stringLiteral",literal:"LAX"},{node:"stringLiteral",literal:"BUR"}]}},expressionType:"scalar",fieldUsage:[{path:["destination","code"]}]},{node:"filterCondition",code:"dep_time ? @2004-01-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-02 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]},{path:["origin_code"]},{path:["origin","code"]},{path:["destination_code"]},{path:["destination","code"]},{path:["dep_time"]},{path:["dep_time"]}]}],name:"kayak_query_sj_to_la",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},southwest_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Southwest'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Southwest"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"southwest_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},jetblue_dashbaord:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Jetblue'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Jetblue"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"jetblue_dashbaord",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sjc_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sjc_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sfo_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SFO'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SFO"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sfo_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}},queryList:[{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},arguments:{}},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["flight_count"]}],limit:4,filterList:[],fieldUsage:[{path:["carrier"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}],dependencies:{},annotation:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},references:[{type:"exploreReference",text:"flights",definition:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}},{type:"fieldReference",definition:{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},text:"carrier"},{type:"fieldReference",definition:{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},text:"flight_count"}],imports:[]},t.queryResult={lastStageName:"__stage0",malloy:"",sql:'SELECT \n   base."carrier" as "carrier",\n   COUNT(1) as "flight_count"\nFROM \'../data/flights.parquet\' as base\nGROUP BY 1\nORDER BY 2 desc NULLS LAST\nLIMIT 4\n',dependenciesToMaterialize:{},structs:[{type:"query_result",name:"__stage0",fields:[{name:"carrier",type:"string",resultMetadata:{sourceField:"carrier",sourceClasses:["carrier"],referenceId:"1146a0db-5c33-4ad9-a0cb-67361cbf9175",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"flight_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"flight_count",sourceExpression:"count()",sourceClasses:["flight_count"],referenceId:"cf0c6636-f821-4f5d-819b-8249a6ef882d",filterList:[],fieldKind:"measure"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:42,character:4},end:{line:42,character:27}}}}],dialect:"duckdb",primaryKey:"carrier",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",limit:4,orderBy:[{field:"flight_count",dir:"desc"}],drillable:!0},modelAnnotation:{notes:[{text:"##(docs) hidden\n",at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:0},end:{line:0,character:16}}}}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}],sourceExplore:"flights",sourceArguments:{},connectionName:"duckdb",result:[{carrier:"WN",flight_count:88751},{carrier:"US",flight_count:37683},{carrier:"AA",flight_count:34577},{carrier:"NW",flight_count:33580}],totalRows:4},e.appendChild(t)})();</script>
      </div>
    </div>
    <div class="result-middle" data-result-kind="json" >
      <div class="result-inner">
        <pre><pre class="language-json" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">[</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;WN&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">88751</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;US&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">37683</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;AA&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">34577</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;NW&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">33580</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">]</span></span></pre></pre>
      </div>
    </div>
    <div class="result-middle" data-result-kind="sql" >
      <div class="result-inner">
        <pre><pre class="language-sql" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">SELECT</span><span style="color: #000000"> </span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;carrier&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;carrier&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   </span><span style="color: #795E26">COUNT</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">) </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_count&quot;</span></span>
<span class="line"><span style="color: #0000FF">FROM</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;../data/flights.parquet&#39;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> base</span></span>
<span class="line"><span style="color: #0000FF">GROUP BY</span><span style="color: #000000"> </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #0000FF">ORDER BY</span><span style="color: #000000"> </span><span style="color: #098658">2</span><span style="color: #000000"> </span><span style="color: #0000FF">desc</span><span style="color: #000000"> NULLS </span><span style="color: #0000FF">LAST</span></span>
<span class="line"><span style="color: #0000FF">LIMIT</span><span style="color: #000000"> </span><span style="color: #098658">4</span></span>
<span class="line"></span></pre></pre>
      </div>
    </div>
  </div></div><p>For detailed information on ordering and limiting, see the <a href="order_by">Ordering and Limiting</a> section.</p>

      <h3>
        <a id="post-aggregation-filtering" class="header-link anchor" href="#post-aggregation-filtering">
          Post-Aggregation Filtering
        </a>
      </h3>
    <p>Views may filter entire groupings based on aggregate values using the <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">having</span><span style="color: #000000">:</span></span></code> clause, which corresponds to SQL's <code>HAVING</code> clause.</p>
<div class="code-wrapper"><a href="https://github.dev/malloydata/malloydata.github.io/blob/main/src/documentation/language/views.malloynb#C14" target="_blank" class="open_notebook"><img src="/img/open_notebook.svg" alt="document"/></a><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">run</span><span style="color: #000000">: </span><span style="color: #001080">flights</span><span style="color: #000000"> -&gt; {</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">group_by</span><span style="color: #000000">: </span><span style="color: #001080">carrier</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">aggregate</span><span style="color: #000000">: </span><span style="color: #001080">flight_count</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">having</span><span style="color: #000000">: </span><span style="color: #001080">flight_count</span><span style="color: #000000"> &gt; </span><span style="color: #098658">35000</span></span>
<span class="line"><span style="color: #000000">}</span></span></pre><div class="result-outer small">
    <div class="result-controls-bar">
      <span class="result-label">QUERY RESULTS</span>
      <div class="result-controls">
        <button class="result-control" selected data-result-kind="html">HTML</button>
        <button class="result-control"  data-result-kind="json">JSON</button>
        <button class="result-control"  data-result-kind="sql">SQL</button>
      </div>
    </div>
    <div class="result-middle" data-result-kind="html" selected>
      <div class="result-inner" id="c96572db-74b9-4831-9e16-f80eee4e23cf">
        <script>(()=>{var e=document.getElementById("c96572db-74b9-4831-9e16-f80eee4e23cf"),t=document.createElement("malloy-render");t.modelDef={name:"",exports:[],contents:{carriers:{type:"table",name:"duckdb:../data/carriers.parquet",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},as:"carriers",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_models:{type:"table",name:"duckdb:../data/aircraft_models.parquet",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},as:"aircraft_models",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft:{type:"table",name:"duckdb:../data/aircraft.parquet",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},as:"aircraft",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_facts:{type:"query_source",name:"QuerySource-980d3ee8-a48c-48a2-a22a-a92688f26739",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},as:"aircraft_facts",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},flights:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sessionize_delta_southwest:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day",drillView:"sessionize"},{type:"fieldref",path:["carrier"],drillView:"sessionize"},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"sessionize"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"sessionize"}],filterList:[{node:"filterCondition",code:"carrier ? 'WN' | 'DL'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["carrier"]},oneOf:[{node:"stringLiteral",literal:"WN"},{node:"stringLiteral",literal:"DL"}]}},expressionType:"scalar",fieldUsage:[{path:["carrier"]}]},{node:"filterCondition",code:"dep_time ? @2002-03-03",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-03 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-04 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]},{path:["carrier"]},{path:["dep_time"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],name:"sessionize_delta_southwest",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},kayak_query_sj_to_la:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],drillView:"kayak"}],filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]},{node:"filterCondition",code:"destination.code ? 'LAX' | 'BUR'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["destination","code"]},oneOf:[{node:"stringLiteral",literal:"LAX"},{node:"stringLiteral",literal:"BUR"}]}},expressionType:"scalar",fieldUsage:[{path:["destination","code"]}]},{node:"filterCondition",code:"dep_time ? @2004-01-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-02 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]},{path:["origin_code"]},{path:["origin","code"]},{path:["destination_code"]},{path:["destination","code"]},{path:["dep_time"]},{path:["dep_time"]}]}],name:"kayak_query_sj_to_la",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},southwest_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Southwest'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Southwest"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"southwest_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},jetblue_dashbaord:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Jetblue'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Jetblue"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"jetblue_dashbaord",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sjc_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sjc_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sfo_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SFO'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SFO"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sfo_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}},queryList:[{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},arguments:{}},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["flight_count"]}],filterList:[{node:"filterCondition",code:"flight_count > 35000",e:{node:">",kids:{left:{node:"outputField",name:"flight_count"},right:{node:"numberLiteral",literal:"35000"}}},expressionType:"aggregate",fieldUsage:[{path:["flight_count"]}]}],fieldUsage:[{path:["carrier"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}],dependencies:{},annotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},references:[{type:"exploreReference",text:"flights",definition:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}},{type:"fieldReference",definition:{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},text:"carrier"},{type:"fieldReference",definition:{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},text:"flight_count"}],imports:[]},t.queryResult={lastStageName:"__stage0",malloy:"",sql:'SELECT \n   base."carrier" as "carrier",\n   COUNT(1) as "flight_count"\nFROM \'../data/flights.parquet\' as base\nGROUP BY 1\nHAVING (COUNT(1))>35000\nORDER BY 2 desc NULLS LAST\n',dependenciesToMaterialize:{},structs:[{type:"query_result",name:"__stage0",fields:[{name:"carrier",type:"string",resultMetadata:{sourceField:"carrier",sourceClasses:["carrier"],referenceId:"68502d0e-f6e0-4b99-bc09-6cc4940eb86e",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"flight_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"flight_count",sourceExpression:"count()",sourceClasses:["flight_count"],referenceId:"eb5302cd-ce37-4291-a633-7c82e2dcf81e",filterList:[],fieldKind:"measure"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:42,character:4},end:{line:42,character:27}}}}],dialect:"duckdb",primaryKey:"carrier",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[{node:"filterCondition",code:"flight_count > 35000",e:{node:">",kids:{left:{node:"outputField",name:"flight_count",sql:"(COUNT(1))"},right:{node:"numberLiteral",literal:"35000",sql:"35000"}}},expressionType:"aggregate",fieldUsage:[{path:["flight_count"],at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:3,character:10},end:{line:3,character:22}}}}]}],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"flight_count",dir:"desc"}],drillable:!0},modelAnnotation:{notes:[{text:"##(docs) hidden\n",at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:0},end:{line:0,character:16}}}}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}],sourceExplore:"flights",sourceArguments:{},connectionName:"duckdb",result:[{carrier:"WN",flight_count:88751},{carrier:"US",flight_count:37683}],totalRows:2},e.appendChild(t)})();</script>
      </div>
    </div>
    <div class="result-middle" data-result-kind="json" >
      <div class="result-inner">
        <pre><pre class="language-json" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">[</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;WN&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">88751</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;US&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">37683</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">]</span></span></pre></pre>
      </div>
    </div>
    <div class="result-middle" data-result-kind="sql" >
      <div class="result-inner">
        <pre><pre class="language-sql" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">SELECT</span><span style="color: #000000"> </span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;carrier&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;carrier&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   </span><span style="color: #795E26">COUNT</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">) </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_count&quot;</span></span>
<span class="line"><span style="color: #0000FF">FROM</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;../data/flights.parquet&#39;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> base</span></span>
<span class="line"><span style="color: #0000FF">GROUP BY</span><span style="color: #000000"> </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #0000FF">HAVING</span><span style="color: #000000"> (</span><span style="color: #795E26">COUNT</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">))&gt;</span><span style="color: #098658">35000</span></span>
<span class="line"><span style="color: #0000FF">ORDER BY</span><span style="color: #000000"> </span><span style="color: #098658">2</span><span style="color: #000000"> </span><span style="color: #0000FF">desc</span><span style="color: #000000"> NULLS </span><span style="color: #0000FF">LAST</span></span>
<span class="line"></span></pre></pre>
      </div>
    </div>
  </div></div>
      <h3>
        <a id="calculations-window-functions-" class="header-link anchor" href="#calculations-window-functions-">
          Calculations (Window Functions)
        </a>
      </h3>
    <p>Calculations based on other groupings may be performed with the <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">calculate</span><span style="color: #000000">:</span></span></code> clause and analytic functions. See the <a href="./calculations_windows">Calculations</a> section for details.</p>
<div class="code-wrapper"><a href="https://github.dev/malloydata/malloydata.github.io/blob/main/src/documentation/language/views.malloynb#C16" target="_blank" class="open_notebook"><img src="/img/open_notebook.svg" alt="document"/></a><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">run</span><span style="color: #000000">: </span><span style="color: #001080">flights</span><span style="color: #000000"> -&gt; {</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">group_by</span><span style="color: #000000">: </span><span style="color: #001080">carrier</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">aggregate</span><span style="color: #000000">: </span><span style="color: #001080">flight_count</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">calculate</span><span style="color: #000000">: </span><span style="color: #001080">flight_count_rank</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #795E26">rank</span><span style="color: #000000">()</span></span>
<span class="line"><span style="color: #000000">}</span></span></pre><div class="result-outer small">
    <div class="result-controls-bar">
      <span class="result-label">QUERY RESULTS</span>
      <div class="result-controls">
        <button class="result-control" selected data-result-kind="html">HTML</button>
        <button class="result-control"  data-result-kind="json">JSON</button>
        <button class="result-control"  data-result-kind="sql">SQL</button>
      </div>
    </div>
    <div class="result-middle" data-result-kind="html" selected>
      <div class="result-inner" id="d0210f66-5ea2-41b6-a3b2-98eb03e2a47f">
        <script>(()=>{var e=document.getElementById("d0210f66-5ea2-41b6-a3b2-98eb03e2a47f"),t=document.createElement("malloy-render");t.modelDef={name:"",exports:[],contents:{carriers:{type:"table",name:"duckdb:../data/carriers.parquet",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},as:"carriers",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_models:{type:"table",name:"duckdb:../data/aircraft_models.parquet",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},as:"aircraft_models",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft:{type:"table",name:"duckdb:../data/aircraft.parquet",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},as:"aircraft",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_facts:{type:"query_source",name:"QuerySource-980d3ee8-a48c-48a2-a22a-a92688f26739",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},as:"aircraft_facts",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},flights:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sessionize_delta_southwest:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day",drillView:"sessionize"},{type:"fieldref",path:["carrier"],drillView:"sessionize"},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"sessionize"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"sessionize"}],filterList:[{node:"filterCondition",code:"carrier ? 'WN' | 'DL'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["carrier"]},oneOf:[{node:"stringLiteral",literal:"WN"},{node:"stringLiteral",literal:"DL"}]}},expressionType:"scalar",fieldUsage:[{path:["carrier"]}]},{node:"filterCondition",code:"dep_time ? @2002-03-03",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-03 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-04 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]},{path:["carrier"]},{path:["dep_time"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],name:"sessionize_delta_southwest",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},kayak_query_sj_to_la:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],drillView:"kayak"}],filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]},{node:"filterCondition",code:"destination.code ? 'LAX' | 'BUR'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["destination","code"]},oneOf:[{node:"stringLiteral",literal:"LAX"},{node:"stringLiteral",literal:"BUR"}]}},expressionType:"scalar",fieldUsage:[{path:["destination","code"]}]},{node:"filterCondition",code:"dep_time ? @2004-01-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-02 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]},{path:["origin_code"]},{path:["origin","code"]},{path:["destination_code"]},{path:["destination","code"]},{path:["dep_time"]},{path:["dep_time"]}]}],name:"kayak_query_sj_to_la",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},southwest_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Southwest'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Southwest"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"southwest_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},jetblue_dashbaord:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Jetblue'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Jetblue"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"jetblue_dashbaord",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sjc_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sjc_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sfo_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SFO'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SFO"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sfo_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}},queryList:[{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},arguments:{}},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["flight_count"]},{type:"number",name:"flight_count_rank",e:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar_analytic",evalSpace:"input"},params:[],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[]},src:["RANK(",")"]},needsWindowOrderBy:!0},standardsql:{e:{node:"genericSQLExpr",kids:{args:[]},src:["RANK(",")"]},needsWindowOrderBy:!0},duckdb:{e:{node:"genericSQLExpr",kids:{args:[]},src:["RANK(",")"]},needsWindowOrderBy:!0},snowflake:{e:{node:"genericSQLExpr",kids:{args:[]},src:["RANK(",")"]},needsWindowOrderBy:!0},trino:{e:{node:"genericSQLExpr",kids:{args:[]},src:["RANK(",")"]},needsWindowOrderBy:!0},presto:{e:{node:"genericSQLExpr",kids:{args:[]},src:["RANK(",")"]},needsWindowOrderBy:!0},mysql:{e:{node:"genericSQLExpr",kids:{args:[]},src:["RANK(",")"]},needsWindowOrderBy:!0}}},name:"rank",kids:{args:[]},expressionType:"scalar_analytic"},expressionType:"scalar_analytic",code:"rank()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}],dependencies:{},annotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},references:[{type:"exploreReference",text:"flights",definition:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}},{type:"fieldReference",definition:{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},text:"carrier"},{type:"fieldReference",definition:{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},text:"flight_count"}],imports:[]},t.queryResult={lastStageName:"__stage0",malloy:"",sql:'SELECT \n   base."carrier" as "carrier",\n   COUNT(1) as "flight_count",\n   RANK() OVER(  ORDER BY  COUNT(1) desc NULLS LAST ) as "flight_count_rank"\nFROM \'../data/flights.parquet\' as base\nGROUP BY 1\nORDER BY 2 desc NULLS LAST\n',dependenciesToMaterialize:{},structs:[{type:"query_result",name:"__stage0",fields:[{name:"carrier",type:"string",resultMetadata:{sourceField:"carrier",sourceClasses:["carrier"],referenceId:"cc4c65df-0e7e-42d4-bff4-e6437fd56635",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:30,character:19},end:{line:30,character:58}}}},{name:"flight_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"flight_count",sourceExpression:"count()",sourceClasses:["flight_count"],referenceId:"43e2bf8a-b4c1-4263-8089-19165bbc41b2",filterList:[],fieldKind:"measure"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:42,character:4},end:{line:42,character:27}}}},{name:"flight_count_rank",type:"number",resultMetadata:{sourceField:"flight_count_rank",sourceExpression:"rank()",sourceClasses:["flight_count_rank"],referenceId:"432cdea6-d4e4-4078-84f7-9af5900916fb",filterList:[],fieldKind:"measure"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:3,character:13},end:{line:3,character:40}}}}],dialect:"duckdb",primaryKey:"carrier",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"flight_count",dir:"desc"}],drillable:!0},modelAnnotation:{notes:[{text:"##(docs) hidden\n",at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:0},end:{line:0,character:16}}}}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}],sourceExplore:"flights",sourceArguments:{},connectionName:"duckdb",result:[{carrier:"WN",flight_count:88751,flight_count_rank:1},{carrier:"US",flight_count:37683,flight_count_rank:2},{carrier:"AA",flight_count:34577,flight_count_rank:3},{carrier:"NW",flight_count:33580,flight_count_rank:4},{carrier:"UA",flight_count:32757,flight_count_rank:5}],totalRows:5},e.appendChild(t)})();</script>
      </div>
    </div>
    <div class="result-middle" data-result-kind="json" >
      <div class="result-inner">
        <pre><pre class="language-json" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">[</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;WN&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">88751</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count_rank&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;US&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">37683</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count_rank&quot;</span><span style="color: #000000">: </span><span style="color: #098658">2</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;AA&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">34577</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count_rank&quot;</span><span style="color: #000000">: </span><span style="color: #098658">3</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;NW&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">33580</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count_rank&quot;</span><span style="color: #000000">: </span><span style="color: #098658">4</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;UA&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">32757</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count_rank&quot;</span><span style="color: #000000">: </span><span style="color: #098658">5</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">]</span></span></pre></pre>
      </div>
    </div>
    <div class="result-middle" data-result-kind="sql" >
      <div class="result-inner">
        <pre><pre class="language-sql" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">SELECT</span><span style="color: #000000"> </span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;carrier&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;carrier&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   </span><span style="color: #795E26">COUNT</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">) </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_count&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   </span><span style="color: #795E26">RANK</span><span style="color: #000000">() </span><span style="color: #0000FF">OVER</span><span style="color: #000000">(  </span><span style="color: #0000FF">ORDER BY</span><span style="color: #000000">  </span><span style="color: #795E26">COUNT</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">) </span><span style="color: #0000FF">desc</span><span style="color: #000000"> NULLS </span><span style="color: #0000FF">LAST</span><span style="color: #000000"> ) </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_count_rank&quot;</span></span>
<span class="line"><span style="color: #0000FF">FROM</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;../data/flights.parquet&#39;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> base</span></span>
<span class="line"><span style="color: #0000FF">GROUP BY</span><span style="color: #000000"> </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #0000FF">ORDER BY</span><span style="color: #000000"> </span><span style="color: #098658">2</span><span style="color: #000000"> </span><span style="color: #0000FF">desc</span><span style="color: #000000"> NULLS </span><span style="color: #0000FF">LAST</span></span>
<span class="line"></span></pre></pre>
      </div>
    </div>
  </div></div>
      <h3>
        <a id="source-extensions" class="header-link anchor" href="#source-extensions">
          Source Extensions
        </a>
      </h3>
    <p>When writing a query, if additional source extensions are needed, they can be <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">extend</span></span></code>-ed into the source in the query expression, as in</p>
<div class="code-wrapper"><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">run</span><span style="color: #000000">: </span><span style="color: #001080">some_source</span><span style="color: #000000"> </span><span style="color: #AF00DB">extend</span><span style="color: #000000"> { </span><span style="color: #000000; font-style: italic">extensions</span><span style="color: #000000"> } -&gt; { </span><span style="color: #000000; font-style: italic">view operations</span><span style="color: #000000"> }</span></span></pre></div><p>Such extensions can also be included in a view using the <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">extend</span><span style="color: #000000">:</span></span></code> block.</p>
<div class="code-wrapper"></div><blockquote>
<blockquote>
<blockquote>
<p>malloy
run: flights -> {
extend: {
join_one: origin_airport is airports on origin_airport.code = origin_code
dimension: origin_state is origin_airport.state
}</p>
</blockquote>
</blockquote>
</blockquote>
<p>group_by: origin_state
aggregate: flight_count
limit: 5
}</p>
<p>When the view is defined inside a source, source extensions can only be added in this way. The legal extensions in a view are:</p>
<ul>
<li><p>Defining fields with <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">dimension</span><span style="color: #000000">:</span></span></code> and <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">measure</span><span style="color: #000000">:</span></span></code></p>
</li>
<li><p>Declaring joins with <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">join_one</span><span style="color: #000000">:</span></span></code>, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">join_many</span><span style="color: #000000">:</span></span></code>, and <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">join_cross</span><span style="color: #000000">:</span></span></code></p>
</li></ul>

      <h2>
        <a id="reusing-nesting-and-refining-views" class="header-link anchor" href="#reusing-nesting-and-refining-views">
          Reusing, Nesting, and Refining Views
        </a>
      </h2>
    <p>When views are defined in a source, they can be reused in a number of ways.</p>

      <h3>
        <a id="reusing-views" class="header-link anchor" href="#reusing-views">
          Reusing Views
        </a>
      </h3>
    <p>They can serve as the starting point for multiple different queries:</p>
<div class="code-wrapper"><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">run</span><span style="color: #000000">: </span><span style="color: #001080">flights</span><span style="color: #000000"> -&gt; </span><span style="color: #001080">by_carrier</span><span style="color: #000000"> -&gt; { </span><span style="color: #AF00DB">select</span><span style="color: #000000">: </span><span style="color: #001080">nickname</span><span style="color: #000000">; </span><span style="color: #AF00DB">limit</span><span style="color: #000000">: </span><span style="color: #098658">1</span><span style="color: #000000"> }</span></span>
<span class="line"><span style="color: #AF00DB">run</span><span style="color: #000000">: </span><span style="color: #001080">flights</span><span style="color: #000000"> -&gt; </span><span style="color: #001080">by_carrier</span><span style="color: #000000"> -&gt; { </span><span style="color: #AF00DB">index</span><span style="color: #000000">: * }</span></span></pre></div>
      <h3>
        <a id="nesting-views" class="header-link anchor" href="#nesting-views">
          Nesting Views
        </a>
      </h3>
    <p>Views can also be nested in other views:</p>
<div class="code-wrapper"><a href="https://github.dev/malloydata/malloydata.github.io/blob/main/src/documentation/language/views.malloynb#C20" target="_blank" class="open_notebook"><img src="/img/open_notebook.svg" alt="document"/></a><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">run</span><span style="color: #000000">: </span><span style="color: #001080">flights</span><span style="color: #000000"> -&gt; {</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">group_by</span><span style="color: #000000">: </span><span style="color: #001080">origin</span><span style="color: #000000">.</span><span style="color: #001080">state</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">nest</span><span style="color: #000000">: </span><span style="color: #001080">by_carrier</span></span>
<span class="line"><span style="color: #000000">}</span></span></pre><div class="result-outer small">
    <div class="result-controls-bar">
      <span class="result-label">QUERY RESULTS</span>
      <div class="result-controls">
        <button class="result-control" selected data-result-kind="html">HTML</button>
        <button class="result-control"  data-result-kind="json">JSON</button>
        <button class="result-control"  data-result-kind="sql">SQL</button>
      </div>
    </div>
    <div class="result-middle" data-result-kind="html" selected>
      <div class="result-inner" id="73efcfe1-cd1b-4ea1-9da9-e5837259e01c">
        <script>(()=>{var e=document.getElementById("73efcfe1-cd1b-4ea1-9da9-e5837259e01c"),t=document.createElement("malloy-render");t.modelDef={name:"",exports:[],contents:{carriers:{type:"table",name:"duckdb:../data/carriers.parquet",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},as:"carriers",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_models:{type:"table",name:"duckdb:../data/aircraft_models.parquet",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},as:"aircraft_models",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft:{type:"table",name:"duckdb:../data/aircraft.parquet",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},as:"aircraft",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_facts:{type:"query_source",name:"QuerySource-980d3ee8-a48c-48a2-a22a-a92688f26739",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},as:"aircraft_facts",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},flights:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sessionize_delta_southwest:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day",drillView:"sessionize"},{type:"fieldref",path:["carrier"],drillView:"sessionize"},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"sessionize"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"sessionize"}],filterList:[{node:"filterCondition",code:"carrier ? 'WN' | 'DL'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["carrier"]},oneOf:[{node:"stringLiteral",literal:"WN"},{node:"stringLiteral",literal:"DL"}]}},expressionType:"scalar",fieldUsage:[{path:["carrier"]}]},{node:"filterCondition",code:"dep_time ? @2002-03-03",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-03 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-04 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]},{path:["carrier"]},{path:["dep_time"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],name:"sessionize_delta_southwest",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},kayak_query_sj_to_la:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],drillView:"kayak"}],filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]},{node:"filterCondition",code:"destination.code ? 'LAX' | 'BUR'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["destination","code"]},oneOf:[{node:"stringLiteral",literal:"LAX"},{node:"stringLiteral",literal:"BUR"}]}},expressionType:"scalar",fieldUsage:[{path:["destination","code"]}]},{node:"filterCondition",code:"dep_time ? @2004-01-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-02 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]},{path:["origin_code"]},{path:["origin","code"]},{path:["destination_code"]},{path:["destination","code"]},{path:["dep_time"]},{path:["dep_time"]}]}],name:"kayak_query_sj_to_la",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},southwest_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Southwest'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Southwest"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"southwest_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},jetblue_dashbaord:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Jetblue'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Jetblue"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"jetblue_dashbaord",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sjc_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sjc_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sfo_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SFO'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SFO"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sfo_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},airports:{type:"table",name:"duckdb:../data/airports.parquet",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},as:"airports",modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"}}},queryList:[{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"],sql:'carriers_0."code"'},right:{node:"field",path:["carrier"],sql:'base."carrier"'}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"],sql:'origin_0."code"'},right:{node:"field",path:["origin_code"],sql:'base."origin"'}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"],sql:'destination_0."code"'},right:{node:"field",path:["destination_code"],sql:'base."destination"'}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},arguments:{}},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","state"]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:2,character:8},end:{line:2,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"state",dir:"asc"}]}],modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"}}],dependencies:{},annotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},references:[{type:"exploreReference",text:"flights",definition:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"],sql:'carriers_0."code"'},right:{node:"field",path:["carrier"],sql:'base."carrier"'}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"],sql:'origin_0."code"'},right:{node:"field",path:["origin_code"],sql:'base."origin"'}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"],sql:'destination_0."code"'},right:{node:"field",path:["destination_code"],sql:'base."destination"'}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}},{type:"joinReference",definition:{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},text:"origin"},{type:"fieldReference",definition:{type:"string",name:"state",fieldUsage:[{path:["state"]}]},text:"state"},{type:"fieldReference",definition:{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},text:"by_carrier"},{type:"joinReference",definition:{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},text:"origin"}],imports:[]},t.queryResult={lastStageName:"__stage1",malloy:"",sql:'WITH __stage0 AS (\n  SELECT\n    group_set,\n    origin_0."state" as "state__0",\n    CASE WHEN group_set=1 THEN\n      carriers_0."nickname"\n      END as "nickname__1",\n    CASE WHEN group_set=1 THEN\n      COUNT(1)\n      END as "flight_count__1",\n    CASE WHEN group_set=1 THEN\n      COUNT(DISTINCT destination_0."code")\n      END as "destination_count__1"\n  FROM \'../data/flights.parquet\' as base\n   LEFT JOIN \'../data/airports.parquet\' AS destination_0\n    ON destination_0."code"=base."destination"\n   LEFT JOIN \'../data/airports.parquet\' AS origin_0\n    ON origin_0."code"=base."origin"\n   LEFT JOIN \'../data/carriers.parquet\' AS carriers_0\n    ON carriers_0."code"=base."carrier"\n  CROSS JOIN (SELECT UNNEST(GENERATE_SERIES(0,1,1)) as group_set  ) as group_set\n  GROUP BY 1,2,3\n)\nSELECT\n  "state__0" as "state",\n  COALESCE(LIST({\n    "nickname": "nickname__1", \n    "flight_count": "flight_count__1", \n    "destination_count": "destination_count__1"}  ORDER BY  "flight_count__1" desc NULLS LAST) FILTER (WHERE group_set=1),[]) as "by_carrier"\nFROM __stage0\nGROUP BY 1\nORDER BY 1 asc NULLS LAST\n',dependenciesToMaterialize:{},structs:[{type:"query_result",name:"__stage1",fields:[{name:"state",type:"string",resultMetadata:{sourceField:"origin.state",sourceClasses:["origin.state"],referenceId:"0f695cd0-1d6e-4179-84a3-85721b1e0508",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:2,character:20},end:{line:2,character:60}}}},{type:"array",name:"by_carrier",fields:[{name:"nickname",type:"string",resultMetadata:{sourceField:"carriers.nickname",sourceClasses:["carriers.nickname"],referenceId:"b844a28b-f4e4-4ffc-b53a-0a04389a76e2",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:4,character:20},end:{line:4,character:60}}},drillView:"by_carrier"},{name:"flight_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"flight_count",sourceExpression:"count()",sourceClasses:["flight_count"],referenceId:"932c6749-8c0b-4485-a984-0bd1a4e59d90",filterList:[],fieldKind:"measure"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:42,character:4},end:{line:42,character:27}}},drillView:"by_carrier"},{name:"destination_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"destination_count",sourceExpression:"destination.count()",sourceClasses:["destination_count"],referenceId:"fa60e818-130e-4598-8321-93430839609e",filterList:[],fieldKind:"measure"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:51,character:15},end:{line:51,character:55}}},drillView:"by_carrier"}],dialect:"duckdb",connection:"duckdb",resultMetadata:{sourceField:"by_carrier",filterList:[],sourceClasses:["by_carrier"],fieldKind:"struct",orderBy:[{field:"flight_count",dir:"desc"}],drillable:!0},modelAnnotation:{notes:[{text:"##(docs) hidden\n",at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:0},end:{line:0,character:16}}}}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},annotation:{inherits:{}},elementTypeDef:{type:"record_element"},join:"many"}],dialect:"duckdb",primaryKey:"state",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"state",dir:"asc"}],drillable:!0},modelAnnotation:{notes:[{text:"##(docs) hidden\n",at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:0},end:{line:0,character:16}}}}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}}],sourceExplore:"flights",sourceArguments:{},connectionName:"duckdb",result:[{state:"AK",by_carrier:[{nickname:"Alaska",flight_count:502,destination_count:5},{nickname:"Northwest",flight_count:164,destination_count:3},{nickname:"Delta",flight_count:140,destination_count:5},{nickname:"United",flight_count:55,destination_count:4},{nickname:"American",flight_count:1,destination_count:1}]},{state:"AL",by_carrier:[{nickname:"Atlantic Southeast",flight_count:910,destination_count:1},{nickname:"Southwest",flight_count:836,destination_count:12},{nickname:"Delta",flight_count:587,destination_count:4},{nickname:"Continental Express",flight_count:232,destination_count:3},{nickname:"Comair",flight_count:103,destination_count:5},{nickname:"American",flight_count:45,destination_count:1},{nickname:"USAir",flight_count:28,destination_count:1},{nickname:"Continental",flight_count:15,destination_count:1}]},{state:"AR",by_carrier:[{nickname:"American Eagle",flight_count:853,destination_count:3},{nickname:"Southwest",flight_count:364,destination_count:7},{nickname:"Continental Express",flight_count:136,destination_count:3},{nickname:"Delta",flight_count:66,destination_count:2},{nickname:"American",flight_count:65,destination_count:2},{nickname:"Atlantic Southeast",flight_count:44,destination_count:1},{nickname:"Comair",flight_count:40,destination_count:2},{nickname:"Northwest",flight_count:13,destination_count:1}]},{state:"AZ",by_carrier:[{nickname:"Southwest",flight_count:6912,destination_count:42},{nickname:"America West",flight_count:3819,destination_count:41},{nickname:"United",flight_count:703,destination_count:7},{nickname:"American",flight_count:661,destination_count:6},{nickname:"Northwest",flight_count:543,destination_count:5},{nickname:"Alaska",flight_count:381,destination_count:3},{nickname:"USAir",flight_count:316,destination_count:3},{nickname:"Delta",flight_count:90,destination_count:5},{nickname:"ATA",flight_count:42,destination_count:2},{nickname:"Continental",flight_count:37,destination_count:3},{nickname:"Continental Express",flight_count:27,destination_count:1},{nickname:"Jetblue",flight_count:7,destination_count:1}]},{state:"CA",by_carrier:[{nickname:"Southwest",flight_count:19755,destination_count:32},{nickname:"United",flight_count:6901,destination_count:37},{nickname:"American",flight_count:4687,destination_count:31},{nickname:"Alaska",flight_count:2618,destination_count:9},{nickname:"Northwest",flight_count:2209,destination_count:10},{nickname:"America West",flight_count:2047,destination_count:4},{nickname:"Jetblue",flight_count:910,destination_count:9},{nickname:"Delta",flight_count:749,destination_count:13},{nickname:"USAir",flight_count:542,destination_count:4},{nickname:"Continental",flight_count:105,destination_count:2},{nickname:"ATA",flight_count:78,destination_count:4},{nickname:"American Eagle",flight_count:42,destination_count:2},{nickname:"Continental Express",flight_count:26,destination_count:2},{nickname:"Comair",flight_count:1,destination_count:1}]}],totalRows:5},e.appendChild(t)})();</script>
      </div>
    </div>
    <div class="result-middle" data-result-kind="json" >
      <div class="result-inner">
        <pre><pre class="language-json" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">[</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;state&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;AK&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;by_carrier&quot;</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Alaska&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">502</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">5</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Northwest&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">164</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">3</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Delta&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">140</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">5</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;United&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">55</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">4</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;American&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #000000">      }</span></span>
<span class="line"><span style="color: #000000">    ]</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;state&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;AL&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;by_carrier&quot;</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Atlantic Southeast&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">910</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Southwest&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">836</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">12</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Delta&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">587</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">4</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Continental Express&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">232</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">3</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Comair&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">103</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">5</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;American&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">45</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;USAir&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">28</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Continental&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">15</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #000000">      }</span></span>
<span class="line"><span style="color: #000000">    ]</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;state&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;AR&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;by_carrier&quot;</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;American Eagle&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">853</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">3</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Southwest&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">364</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">7</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Continental Express&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">136</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">3</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Delta&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">66</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">2</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;American&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">65</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">2</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Atlantic Southeast&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">44</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Comair&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">40</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">2</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Northwest&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">13</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #000000">      }</span></span>
<span class="line"><span style="color: #000000">    ]</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;state&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;AZ&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;by_carrier&quot;</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Southwest&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">6912</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">42</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;America West&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">3819</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">41</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;United&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">703</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">7</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;American&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">661</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">6</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Northwest&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">543</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">5</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Alaska&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">381</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">3</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;USAir&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">316</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">3</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Delta&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">90</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">5</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;ATA&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">42</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">2</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Continental&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">37</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">3</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Continental Express&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">27</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Jetblue&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">7</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #000000">      }</span></span>
<span class="line"><span style="color: #000000">    ]</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;state&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;CA&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;by_carrier&quot;</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Southwest&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">19755</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">32</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;United&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">6901</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">37</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;American&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">4687</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">31</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Alaska&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">2618</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">9</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Northwest&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">2209</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">10</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;America West&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">2047</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">4</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Jetblue&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">910</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">9</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Delta&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">749</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">13</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;USAir&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">542</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">4</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Continental&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">105</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">2</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;ATA&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">78</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">4</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;American Eagle&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">42</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">2</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Continental Express&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">26</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">2</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Comair&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #000000">      }</span></span>
<span class="line"><span style="color: #000000">    ]</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">]</span></span></pre></pre>
      </div>
    </div>
    <div class="result-middle" data-result-kind="sql" >
      <div class="result-inner">
        <pre><pre class="language-sql" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">WITH</span><span style="color: #000000"> __stage0 </span><span style="color: #0000FF">AS</span><span style="color: #000000"> (</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0000FF">SELECT</span></span>
<span class="line"><span style="color: #000000">    group_set,</span></span>
<span class="line"><span style="color: #000000">    origin_0.</span><span style="color: #A31515">&quot;state&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;state__0&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">CASE</span><span style="color: #000000"> </span><span style="color: #0000FF">WHEN</span><span style="color: #000000"> group_set=</span><span style="color: #098658">1</span><span style="color: #000000"> </span><span style="color: #0000FF">THEN</span></span>
<span class="line"><span style="color: #000000">      carriers_0.</span><span style="color: #A31515">&quot;nickname&quot;</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0000FF">END</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;nickname__1&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">CASE</span><span style="color: #000000"> </span><span style="color: #0000FF">WHEN</span><span style="color: #000000"> group_set=</span><span style="color: #098658">1</span><span style="color: #000000"> </span><span style="color: #0000FF">THEN</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #795E26">COUNT</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0000FF">END</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_count__1&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">CASE</span><span style="color: #000000"> </span><span style="color: #0000FF">WHEN</span><span style="color: #000000"> group_set=</span><span style="color: #098658">1</span><span style="color: #000000"> </span><span style="color: #0000FF">THEN</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #795E26">COUNT</span><span style="color: #000000">(</span><span style="color: #0000FF">DISTINCT</span><span style="color: #000000"> destination_0.</span><span style="color: #A31515">&quot;code&quot;</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0000FF">END</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;destination_count__1&quot;</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0000FF">FROM</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;../data/flights.parquet&#39;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> base</span></span>
<span class="line"><span style="color: #000000">   </span><span style="color: #0000FF">LEFT JOIN</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;../data/airports.parquet&#39;</span><span style="color: #000000"> </span><span style="color: #0000FF">AS</span><span style="color: #000000"> destination_0</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">ON</span><span style="color: #000000"> destination_0.</span><span style="color: #A31515">&quot;code&quot;</span><span style="color: #000000">=base.</span><span style="color: #A31515">&quot;destination&quot;</span></span>
<span class="line"><span style="color: #000000">   </span><span style="color: #0000FF">LEFT JOIN</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;../data/airports.parquet&#39;</span><span style="color: #000000"> </span><span style="color: #0000FF">AS</span><span style="color: #000000"> origin_0</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">ON</span><span style="color: #000000"> origin_0.</span><span style="color: #A31515">&quot;code&quot;</span><span style="color: #000000">=base.</span><span style="color: #A31515">&quot;origin&quot;</span></span>
<span class="line"><span style="color: #000000">   </span><span style="color: #0000FF">LEFT JOIN</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;../data/carriers.parquet&#39;</span><span style="color: #000000"> </span><span style="color: #0000FF">AS</span><span style="color: #000000"> carriers_0</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">ON</span><span style="color: #000000"> carriers_0.</span><span style="color: #A31515">&quot;code&quot;</span><span style="color: #000000">=base.</span><span style="color: #A31515">&quot;carrier&quot;</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0000FF">CROSS</span><span style="color: #000000"> </span><span style="color: #0000FF">JOIN</span><span style="color: #000000"> (</span><span style="color: #0000FF">SELECT</span><span style="color: #000000"> UNNEST(GENERATE_SERIES(</span><span style="color: #098658">0</span><span style="color: #000000">,</span><span style="color: #098658">1</span><span style="color: #000000">,</span><span style="color: #098658">1</span><span style="color: #000000">)) </span><span style="color: #0000FF">as</span><span style="color: #000000"> group_set  ) </span><span style="color: #0000FF">as</span><span style="color: #000000"> group_set</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0000FF">GROUP BY</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">,</span><span style="color: #098658">2</span><span style="color: #000000">,</span><span style="color: #098658">3</span></span>
<span class="line"><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #0000FF">SELECT</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #A31515">&quot;state__0&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;state&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #795E26">COALESCE</span><span style="color: #000000">(LIST({</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">&quot;nickname&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;nickname__1&quot;</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;flight_count__1&quot;</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">&quot;destination_count&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;destination_count__1&quot;</span><span style="color: #000000">}  </span><span style="color: #0000FF">ORDER BY</span><span style="color: #000000">  </span><span style="color: #A31515">&quot;flight_count__1&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">desc</span><span style="color: #000000"> NULLS </span><span style="color: #0000FF">LAST</span><span style="color: #000000">) </span><span style="color: #0000FF">FILTER</span><span style="color: #000000"> (</span><span style="color: #0000FF">WHERE</span><span style="color: #000000"> group_set=</span><span style="color: #098658">1</span><span style="color: #000000">),[]) </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;by_carrier&quot;</span></span>
<span class="line"><span style="color: #0000FF">FROM</span><span style="color: #000000"> __stage0</span></span>
<span class="line"><span style="color: #0000FF">GROUP BY</span><span style="color: #000000"> </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #0000FF">ORDER BY</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000"> </span><span style="color: #0000FF">asc</span><span style="color: #000000"> NULLS </span><span style="color: #0000FF">LAST</span></span>
<span class="line"></span></pre></pre>
      </div>
    </div>
  </div></div>
      <h3>
        <a id="refining-views" class="header-link anchor" href="#refining-views">
          Refining Views
        </a>
      </h3>
    <p>A view can be "refined," which means adding clauses such as <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">select</span><span style="color: #000000">:</span></span></code>, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">group_by</span><span style="color: #000000">:</span></span></code>, <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">aggregate</span><span style="color: #000000">:</span></span></code>, or <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">where</span><span style="color: #000000">:</span></span></code>. For example, let's define a source with a view and use that to create a query</p>
<div class="code-wrapper"><a href="https://github.dev/malloydata/malloydata.github.io/blob/main/src/documentation/language/views.malloynb#C22" target="_blank" class="open_notebook"><img src="/img/open_notebook.svg" alt="document"/></a><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">source</span><span style="color: #000000">: </span><span style="color: #001080">flights4</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #001080">duckdb</span><span style="color: #000000">.</span><span style="color: #795E26">table</span><span style="color: #000000">(</span><span style="color: #A31515">&#39;../data/flights.parquet&#39;</span><span style="color: #000000">) </span><span style="color: #AF00DB">extend</span><span style="color: #000000"> {</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">view</span><span style="color: #000000">: </span><span style="color: #001080">top_destinations</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">group_by</span><span style="color: #000000">: </span><span style="color: #001080">destination</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">aggregate</span><span style="color: #000000">: </span><span style="color: #001080">flight_count</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #795E26">count</span><span style="color: #000000">()</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">}</span></span></pre></div><p>Running the query gives us flight count by destination:</p>
<div class="code-wrapper"><a href="https://github.dev/malloydata/malloydata.github.io/blob/main/src/documentation/language/views.malloynb#C24" target="_blank" class="open_notebook"><img src="/img/open_notebook.svg" alt="document"/></a><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">run</span><span style="color: #000000">: </span><span style="color: #001080">flights4</span><span style="color: #000000"> -&gt; </span><span style="color: #001080">top_destinations</span></span></pre><div class="result-outer small">
    <div class="result-controls-bar">
      <span class="result-label">QUERY RESULTS</span>
      <div class="result-controls">
        <button class="result-control" selected data-result-kind="html">HTML</button>
        <button class="result-control"  data-result-kind="json">JSON</button>
        <button class="result-control"  data-result-kind="sql">SQL</button>
      </div>
    </div>
    <div class="result-middle" data-result-kind="html" selected>
      <div class="result-inner" id="ea4b55e4-54b0-478d-b521-30a7bd55ec00">
        <script>(()=>{var e=document.getElementById("ea4b55e4-54b0-478d-b521-30a7bd55ec00"),t=document.createElement("malloy-render");t.modelDef={name:"",exports:["flights4"],contents:{carriers:{type:"table",name:"duckdb:../data/carriers.parquet",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},as:"carriers",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_models:{type:"table",name:"duckdb:../data/aircraft_models.parquet",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},as:"aircraft_models",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft:{type:"table",name:"duckdb:../data/aircraft.parquet",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},as:"aircraft",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_facts:{type:"query_source",name:"QuerySource-980d3ee8-a48c-48a2-a22a-a92688f26739",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},as:"aircraft_facts",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},flights:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sessionize_delta_southwest:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day",drillView:"sessionize"},{type:"fieldref",path:["carrier"],drillView:"sessionize"},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"sessionize"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"sessionize"}],filterList:[{node:"filterCondition",code:"carrier ? 'WN' | 'DL'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["carrier"]},oneOf:[{node:"stringLiteral",literal:"WN"},{node:"stringLiteral",literal:"DL"}]}},expressionType:"scalar",fieldUsage:[{path:["carrier"]}]},{node:"filterCondition",code:"dep_time ? @2002-03-03",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-03 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-04 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]},{path:["carrier"]},{path:["dep_time"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],name:"sessionize_delta_southwest",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},kayak_query_sj_to_la:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],drillView:"kayak"}],filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]},{node:"filterCondition",code:"destination.code ? 'LAX' | 'BUR'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["destination","code"]},oneOf:[{node:"stringLiteral",literal:"LAX"},{node:"stringLiteral",literal:"BUR"}]}},expressionType:"scalar",fieldUsage:[{path:["destination","code"]}]},{node:"filterCondition",code:"dep_time ? @2004-01-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-02 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]},{path:["origin_code"]},{path:["origin","code"]},{path:["destination_code"]},{path:["destination","code"]},{path:["dep_time"]},{path:["dep_time"]}]}],name:"kayak_query_sj_to_la",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},southwest_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Southwest'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Southwest"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"southwest_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},jetblue_dashbaord:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Jetblue'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Jetblue"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"jetblue_dashbaord",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sjc_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sjc_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sfo_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SFO'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SFO"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sfo_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},airports:{type:"table",name:"duckdb:../data/airports.parquet",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},as:"airports",modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"}},flights4:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination"]},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],filterList:[],fieldUsage:[{path:["destination"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}}],parameters:{},as:"flights4",modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"}}},queryList:[{type:"query",structRef:"flights4",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination"],drillView:"top_destinations"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()",drillView:"top_destinations"}],filterList:[],fieldUsage:[{path:["destination"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:17},end:{line:0,character:33}}}}],name:"top_destinations",annotation:{inherits:{}},modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"}}],dependencies:{},annotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},references:[{type:"exploreReference",text:"flights4",definition:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination"]},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],filterList:[],fieldUsage:[{path:["destination"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}}],parameters:{},as:"flights4",modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"}}},{type:"fieldReference",definition:{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination"]},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],filterList:[],fieldUsage:[{path:["destination"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},text:"top_destinations"}],imports:[]},t.queryResult={lastStageName:"__stage0",malloy:"",sql:'SELECT \n   base."destination" as "destination",\n   COUNT(1) as "flight_count"\nFROM \'../data/flights.parquet\' as base\nGROUP BY 1\nORDER BY 2 desc NULLS LAST\n',dependenciesToMaterialize:{},structs:[{type:"query_result",name:"__stage0",fields:[{name:"destination",type:"string",resultMetadata:{sourceField:"destination",sourceClasses:["destination"],referenceId:"247de556-762d-41b5-b4aa-681df4a7ec1e",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:20},end:{line:0,character:59}}},drillView:"top_destinations"},{name:"flight_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"flight_count",sourceExpression:"count()",sourceClasses:["flight_count"],referenceId:"917c33d4-c610-44d1-8037-bc56448906df",filterList:[],fieldKind:"measure"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:3,character:15},end:{line:3,character:38}}},drillView:"top_destinations"}],dialect:"duckdb",primaryKey:"destination",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"flight_count",dir:"desc"}],drillable:!0},modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n",at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:0},end:{line:0,character:16}}}}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n",at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:0},end:{line:0,character:16}}}}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"}}],sourceExplore:"flights4",sourceArguments:{},queryName:"top_destinations",connectionName:"duckdb",annotation:{inherits:{}},result:[{destination:"ATL",flight_count:17832},{destination:"DFW",flight_count:17776},{destination:"ORD",flight_count:14213},{destination:"PHX",flight_count:12477},{destination:"LAS",flight_count:11092}],totalRows:5},e.appendChild(t)})();</script>
      </div>
    </div>
    <div class="result-middle" data-result-kind="json" >
      <div class="result-inner">
        <pre><pre class="language-json" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">[</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;destination&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;ATL&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">17832</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;destination&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;DFW&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">17776</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;destination&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;ORD&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">14213</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;destination&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;PHX&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">12477</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;destination&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;LAS&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">11092</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">]</span></span></pre></pre>
      </div>
    </div>
    <div class="result-middle" data-result-kind="sql" >
      <div class="result-inner">
        <pre><pre class="language-sql" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">SELECT</span><span style="color: #000000"> </span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;destination&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;destination&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   </span><span style="color: #795E26">COUNT</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">) </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_count&quot;</span></span>
<span class="line"><span style="color: #0000FF">FROM</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;../data/flights.parquet&#39;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> base</span></span>
<span class="line"><span style="color: #0000FF">GROUP BY</span><span style="color: #000000"> </span><span style="color: #098658">1</span></span>
<span class="line"><span style="color: #0000FF">ORDER BY</span><span style="color: #000000"> </span><span style="color: #098658">2</span><span style="color: #000000"> </span><span style="color: #0000FF">desc</span><span style="color: #000000"> NULLS </span><span style="color: #0000FF">LAST</span></span>
<span class="line"></span></pre></pre>
      </div>
    </div>
  </div></div><p>Now let's refine it by adding <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">+ { </span><span style="color: #AF00DB">group_by</span><span style="color: #000000">: </span><span style="color: #001080">origin</span><span style="color: #000000"> }</span></span></code>. This adds a <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">group_by</span></span></code> clause to the original query</p>
<div class="code-wrapper"><a href="https://github.dev/malloydata/malloydata.github.io/blob/main/src/documentation/language/views.malloynb#C26" target="_blank" class="open_notebook"><img src="/img/open_notebook.svg" alt="document"/></a><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">run</span><span style="color: #000000">: </span><span style="color: #001080">flights4</span><span style="color: #000000"> -&gt; </span><span style="color: #001080">top_destinations</span><span style="color: #000000"> + {</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">group_by</span><span style="color: #000000">: </span><span style="color: #001080">origin</span></span>
<span class="line"><span style="color: #000000">}</span></span></pre><div class="result-outer small">
    <div class="result-controls-bar">
      <span class="result-label">QUERY RESULTS</span>
      <div class="result-controls">
        <button class="result-control" selected data-result-kind="html">HTML</button>
        <button class="result-control"  data-result-kind="json">JSON</button>
        <button class="result-control"  data-result-kind="sql">SQL</button>
      </div>
    </div>
    <div class="result-middle" data-result-kind="html" selected>
      <div class="result-inner" id="6b2741eb-0512-4981-8139-c1873c92a4f4">
        <script>(()=>{var e=document.getElementById("6b2741eb-0512-4981-8139-c1873c92a4f4"),t=document.createElement("malloy-render");t.modelDef={name:"",exports:["flights4"],contents:{carriers:{type:"table",name:"duckdb:../data/carriers.parquet",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},as:"carriers",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_models:{type:"table",name:"duckdb:../data/aircraft_models.parquet",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},as:"aircraft_models",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft:{type:"table",name:"duckdb:../data/aircraft.parquet",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},as:"aircraft",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_facts:{type:"query_source",name:"QuerySource-980d3ee8-a48c-48a2-a22a-a92688f26739",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},as:"aircraft_facts",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},flights:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sessionize_delta_southwest:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day",drillView:"sessionize"},{type:"fieldref",path:["carrier"],drillView:"sessionize"},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"sessionize"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"sessionize"}],filterList:[{node:"filterCondition",code:"carrier ? 'WN' | 'DL'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["carrier"]},oneOf:[{node:"stringLiteral",literal:"WN"},{node:"stringLiteral",literal:"DL"}]}},expressionType:"scalar",fieldUsage:[{path:["carrier"]}]},{node:"filterCondition",code:"dep_time ? @2002-03-03",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-03 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-04 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]},{path:["carrier"]},{path:["dep_time"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],name:"sessionize_delta_southwest",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},kayak_query_sj_to_la:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],drillView:"kayak"}],filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]},{node:"filterCondition",code:"destination.code ? 'LAX' | 'BUR'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["destination","code"]},oneOf:[{node:"stringLiteral",literal:"LAX"},{node:"stringLiteral",literal:"BUR"}]}},expressionType:"scalar",fieldUsage:[{path:["destination","code"]}]},{node:"filterCondition",code:"dep_time ? @2004-01-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-02 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]},{path:["origin_code"]},{path:["origin","code"]},{path:["destination_code"]},{path:["destination","code"]},{path:["dep_time"]},{path:["dep_time"]}]}],name:"kayak_query_sj_to_la",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},southwest_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Southwest'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Southwest"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"southwest_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},jetblue_dashbaord:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Jetblue'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Jetblue"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"jetblue_dashbaord",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sjc_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sjc_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sfo_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SFO'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SFO"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sfo_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},airports:{type:"table",name:"duckdb:../data/airports.parquet",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},as:"airports",modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"}},flights4:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination"]},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],filterList:[],fieldUsage:[{path:["destination"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}}],parameters:{},as:"flights4",modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"}}},queryList:[{type:"query",structRef:"flights4",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination"],drillView:"top_destinations"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()",drillView:"top_destinations"},{type:"fieldref",path:["origin"]}],filterList:[],fieldUsage:[{path:["destination"]},{path:["origin"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{inherits:{}},modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"}}],dependencies:{},annotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},references:[{type:"exploreReference",text:"flights4",definition:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination"]},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],filterList:[],fieldUsage:[{path:["destination"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}}],parameters:{},as:"flights4",modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"}}},{type:"fieldReference",definition:{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination"]},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],filterList:[],fieldUsage:[{path:["destination"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},text:"top_destinations"},{type:"fieldReference",definition:{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},text:"origin"}],imports:[]},t.queryResult={lastStageName:"__stage0",malloy:"",sql:'SELECT \n   base."destination" as "destination",\n   COUNT(1) as "flight_count",\n   base."origin" as "origin"\nFROM \'../data/flights.parquet\' as base\nGROUP BY 1,3\nORDER BY 2 desc NULLS LAST\n',dependenciesToMaterialize:{},structs:[{type:"query_result",name:"__stage0",fields:[{name:"destination",type:"string",resultMetadata:{sourceField:"destination",sourceClasses:["destination"],referenceId:"73ed6a65-4c2a-429f-81d4-6d3c6bed4471",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:20},end:{line:0,character:59}}},drillView:"top_destinations"},{name:"flight_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"flight_count",sourceExpression:"count()",sourceClasses:["flight_count"],referenceId:"9f384dc7-d1de-4ee9-9271-9498bb794fd8",filterList:[],fieldKind:"measure"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:3,character:15},end:{line:3,character:38}}},drillView:"top_destinations"},{name:"origin",type:"string",resultMetadata:{sourceField:"origin",sourceClasses:["origin"],referenceId:"bbead213-b153-42c2-a681-a955f506d016",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:20},end:{line:0,character:59}}}}],dialect:"duckdb",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"flight_count",dir:"desc"}],drillable:!0},modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n",at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:0},end:{line:0,character:16}}}}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n",at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:0},end:{line:0,character:16}}}}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"}}],sourceExplore:"flights4",sourceArguments:{},connectionName:"duckdb",annotation:{inherits:{}},result:[{destination:"LGA",flight_count:2143,origin:"DCA"},{destination:"DCA",flight_count:2123,origin:"LGA"},{destination:"BOS",flight_count:1214,origin:"LGA"},{destination:"LGA",flight_count:1201,origin:"BOS"},{destination:"LAS",flight_count:1073,origin:"LAX"}],totalRows:5},e.appendChild(t)})();</script>
      </div>
    </div>
    <div class="result-middle" data-result-kind="json" >
      <div class="result-inner">
        <pre><pre class="language-json" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">[</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;destination&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;LGA&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">2143</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;origin&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;DCA&quot;</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;destination&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;DCA&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">2123</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;origin&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;LGA&quot;</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;destination&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;BOS&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1214</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;origin&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;LGA&quot;</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;destination&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;LGA&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1201</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;origin&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;BOS&quot;</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;destination&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;LAS&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">1073</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;origin&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;LAX&quot;</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">]</span></span></pre></pre>
      </div>
    </div>
    <div class="result-middle" data-result-kind="sql" >
      <div class="result-inner">
        <pre><pre class="language-sql" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">SELECT</span><span style="color: #000000"> </span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;destination&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;destination&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   </span><span style="color: #795E26">COUNT</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">) </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_count&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   base.</span><span style="color: #A31515">&quot;origin&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;origin&quot;</span></span>
<span class="line"><span style="color: #0000FF">FROM</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;../data/flights.parquet&#39;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> base</span></span>
<span class="line"><span style="color: #0000FF">GROUP BY</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">,</span><span style="color: #098658">3</span></span>
<span class="line"><span style="color: #0000FF">ORDER BY</span><span style="color: #000000"> </span><span style="color: #098658">2</span><span style="color: #000000"> </span><span style="color: #0000FF">desc</span><span style="color: #000000"> NULLS </span><span style="color: #0000FF">LAST</span></span>
<span class="line"></span></pre></pre>
      </div>
    </div>
  </div></div><p>The query is now calculating <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">flight_count</span></span></code> grouped by both <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">destination</span></span></code> and <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #001080">origin</span></span></code>.</p>
<p>Refinement can be thought of as similar to extending a class in object-oriented programming. The new view inherits the properties of the original, and adds new properties to it. (That said, it should not be confused with the similar concept of <a href="./source#source-extensions">source extension</a>.) This makes query logic much more reusable, since views can be easily saved and modified.</p>

      <h2>
        <a id="multi-stage-views" class="header-link anchor" href="#multi-stage-views">
          Multi-Stage Views
        </a>
      </h2>
    <p>This example shows a view with 3 stages separated by <code class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">-&gt;</span></span></code>. Each stage generates a CTE in the SQL.</p>
<div class="code-wrapper"><a href="https://github.dev/malloydata/malloydata.github.io/blob/main/src/documentation/language/views.malloynb#C28" target="_blank" class="open_notebook"><img src="/img/open_notebook.svg" alt="document"/></a><pre class="language-malloy" style="background-color: #FBFBFB"><span class="line"><span style="color: #AF00DB">run</span><span style="color: #000000">: </span><span style="color: #001080">duckdb</span><span style="color: #000000">.</span><span style="color: #795E26">table</span><span style="color: #000000">(</span><span style="color: #A31515">&#39;../data/flights.parquet&#39;</span><span style="color: #000000">) -&gt; {</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">select</span><span style="color: #000000">: *</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">where</span><span style="color: #000000">: </span><span style="color: #001080">dep_time</span><span style="color: #000000"> &gt; </span><span style="color: #098658">@2003</span></span>
<span class="line"><span style="color: #000000">} -&gt; {    </span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #008000">-- extend: allows you to define fields for use within the view</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">extend</span><span style="color: #000000">: { </span><span style="color: #AF00DB">measure</span><span style="color: #000000">: </span><span style="color: #001080">flight_count</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #795E26">count</span><span style="color: #000000">() }   </span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">aggregate</span><span style="color: #000000">: </span><span style="color: #001080">flight_count</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">nest</span><span style="color: #000000">: </span><span style="color: #001080">main_view</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">group_by</span><span style="color: #000000">: </span><span style="color: #001080">carrier</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">aggregate</span><span style="color: #000000">: </span><span style="color: #001080">flight_count</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">} -&gt; {</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">select</span><span style="color: #000000">:</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">main_view</span><span style="color: #000000">.</span><span style="color: #001080">carrier</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">main_view</span><span style="color: #000000">.</span><span style="color: #001080">flight_count</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5"># percent</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">flight_count_as_a_percent_of_total</span><span style="color: #000000"> </span><span style="color: #AF00DB">is</span><span style="color: #000000"> </span><span style="color: #001080">main_view</span><span style="color: #000000">.</span><span style="color: #001080">flight_count</span><span style="color: #000000"> / </span><span style="color: #001080">flight_count</span></span>
<span class="line"><span style="color: #000000">}</span></span></pre><div class="result-outer small">
    <div class="result-controls-bar">
      <span class="result-label">QUERY RESULTS</span>
      <div class="result-controls">
        <button class="result-control" selected data-result-kind="html">HTML</button>
        <button class="result-control"  data-result-kind="json">JSON</button>
        <button class="result-control"  data-result-kind="sql">SQL</button>
      </div>
    </div>
    <div class="result-middle" data-result-kind="html" selected>
      <div class="result-inner" id="ab65c33f-5fed-46b6-a6f0-3fc90a8d62f8">
        <script>(()=>{var e=document.getElementById("ab65c33f-5fed-46b6-a6f0-3fc90a8d62f8"),t=document.createElement("malloy-render");t.modelDef={name:"",exports:["flights4"],contents:{carriers:{type:"table",name:"duckdb:../data/carriers.parquet",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},as:"carriers",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_models:{type:"table",name:"duckdb:../data/aircraft_models.parquet",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},as:"aircraft_models",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft:{type:"table",name:"duckdb:../data/aircraft.parquet",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},as:"aircraft",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},aircraft_facts:{type:"query_source",name:"QuerySource-980d3ee8-a48c-48a2-a22a-a92688f26739",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},as:"aircraft_facts",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},flights:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}],as:"origin_code"},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}],as:"destination_code"},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"total_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"sum(distance)"},{type:"number",numberType:"integer",name:"seats_for_sale",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft","aircraft_models"]},fieldUsage:[{path:["seats"]}],expressionType:"aggregate",code:"aircraft.aircraft_models.seats.sum()"},{type:"number",numberType:"integer",name:"seats_owned",e:{node:"aggregate",function:"sum",e:{node:"field",path:["aircraft","aircraft_models","seats"]},structPath:["aircraft"]},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"aggregate",code:"aircraft.sum(aircraft.aircraft_models.seats)"},{type:"table",name:"carriers",dialect:"duckdb",tablePath:"../data/carriers.parquet",connection:"duckdb",fields:[{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"nickname",fieldUsage:[{path:["nickname"]}]},{type:"number",numberType:"integer",name:"carrier_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["carriers","code"]},right:{node:"field",path:["carrier"]}}},onFieldUsage:[{path:["carrier"]}]},{type:"table",name:"origin",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"field",path:["origin_code"]}}},onFieldUsage:[{path:["origin_code"]}]},{type:"table",name:"destination",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["destination","code"]},right:{node:"field",path:["destination_code"]}}},onFieldUsage:[{path:["destination_code"]}]},{type:"table",name:"aircraft",dialect:"duckdb",tablePath:"../data/aircraft.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"string",name:"aircraft_serial",fieldUsage:[{path:["aircraft_serial"]}]},{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"aircraft_engine_code",fieldUsage:[{path:["aircraft_engine_code"]}]},{type:"number",numberType:"integer",name:"year_built",fieldUsage:[{path:["year_built"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"registrant_type_id",fieldUsage:[{path:["registrant_type_id"]}]},{type:"string",name:"name",fieldUsage:[{path:["name"]}]},{type:"string",name:"address1",fieldUsage:[{path:["address1"]}]},{type:"string",name:"address2",fieldUsage:[{path:["address2"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"zip",fieldUsage:[{path:["zip"]}]},{type:"string",name:"region",fieldUsage:[{path:["region"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"country",fieldUsage:[{path:["country"]}]},{type:"string",name:"certification",fieldUsage:[{path:["certification"]}]},{type:"string",name:"status_code",fieldUsage:[{path:["status_code"]}]},{type:"string",name:"mode_s_code",fieldUsage:[{path:["mode_s_code"]}]},{type:"string",name:"fract_owner",fieldUsage:[{path:["fract_owner"]}]},{type:"date",name:"last_action_date",fieldUsage:[{path:["last_action_date"]}]},{type:"date",name:"cert_issue_date",fieldUsage:[{path:["cert_issue_date"]}]},{type:"date",name:"air_worth_date",fieldUsage:[{path:["air_worth_date"]}]},{type:"number",numberType:"integer",name:"aircraft_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"table",name:"aircraft_models",dialect:"duckdb",tablePath:"../data/aircraft_models.parquet",connection:"duckdb",fields:[{type:"string",name:"aircraft_model_code",fieldUsage:[{path:["aircraft_model_code"]}]},{type:"string",name:"manufacturer",fieldUsage:[{path:["manufacturer"]}]},{type:"string",name:"model",fieldUsage:[{path:["model"]}]},{type:"number",numberType:"integer",name:"aircraft_type_id",fieldUsage:[{path:["aircraft_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_engine_type_id",fieldUsage:[{path:["aircraft_engine_type_id"]}]},{type:"number",numberType:"integer",name:"aircraft_category_id",fieldUsage:[{path:["aircraft_category_id"]}]},{type:"number",numberType:"integer",name:"amateur",fieldUsage:[{path:["amateur"]}]},{type:"number",numberType:"integer",name:"engines",fieldUsage:[{path:["engines"]}]},{type:"number",numberType:"integer",name:"seats",fieldUsage:[{path:["seats"]}]},{type:"number",numberType:"integer",name:"weight",fieldUsage:[{path:["weight"]}]},{type:"number",numberType:"integer",name:"speed",fieldUsage:[{path:["speed"]}]},{type:"number",numberType:"integer",name:"aircraft_model_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],primaryKey:"aircraft_model_code",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_models","aircraft_model_code"]},right:{node:"field",path:["aircraft_model_code"]}}},onFieldUsage:[{path:["aircraft_model_code"]}]}],primaryKey:"tail_num",parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"query_source",name:"aircraft_facts",fields:[{name:"tail_num",type:"string",resultMetadata:{sourceField:"tail_num",sourceClasses:["tail_num"],referenceId:"a98e2ad4-4881-4ec2-b817-e3d44e6fb161",fieldKind:"dimension"}},{name:"lifetime_flights",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_flights",sourceExpression:"count()",sourceClasses:["lifetime_flights"],referenceId:"5b105eb8-6b21-488c-8b08-e5cddc5221df",filterList:[],fieldKind:"measure"}},{name:"lifetime_distance",numberType:"integer",type:"number",resultMetadata:{sourceField:"lifetime_distance",sourceExpression:"distance.sum()",sourceClasses:["lifetime_distance"],referenceId:"308f48e4-aff6-4c53-a157-72b31db08145",filterList:[],fieldKind:"measure"}},{type:"number",name:"lifetime_flights_bucketed",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["lifetime_flights"]},right:{node:"numberLiteral",literal:"1000"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"1000"}}},fieldUsage:[{path:["lifetime_flights"]}],expressionType:"scalar",code:"floor(lifetime_flights / 1000) * 1000"}],dialect:"duckdb",primaryKey:"tail_num",connection:"duckdb",resultMetadata:{sourceField:"ignoreme",filterList:[],sourceClasses:["ignoreme"],fieldKind:"struct",orderBy:[{field:"lifetime_flights",dir:"desc"}],drillable:!0},query:{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}]},pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"]},{type:"number",numberType:"integer",name:"lifetime_flights",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"number",numberType:"integer",name:"lifetime_distance",e:{node:"aggregate",function:"sum",e:{node:"field",path:["distance"]}},fieldUsage:[{path:["distance"]}],expressionType:"aggregate",code:"distance.sum()"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"lifetime_flights",dir:"desc"}]}]},parameters:{},arguments:{},join:"one",matrixOperation:"left",onExpression:{node:"=",kids:{left:{node:"field",path:["aircraft_facts","tail_num"]},right:{node:"field",path:["tail_num"]}}},onFieldUsage:[{path:["tail_num"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"]},{type:"fieldref",path:["flight_count"]},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carrier_overview",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"carrier_name",e:{node:"field",path:["carriers","nickname"]},fieldUsage:[{path:["carriers","nickname"]}],expressionType:"scalar",code:"carriers.nickname"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"percent_of_this_carriers_flights_to_all_flights",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100"},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination","code"],drillView:"top_destinations"},{type:"fieldref",path:["destination","full_name"],drillView:"top_destinations"},{type:"fieldref",path:["flight_count"],drillView:"top_destinations"},{type:"number",name:"flights_to_dest",e:{node:"*",kids:{left:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_this_carriers_flights_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"all",e:{node:"field",path:["flight_count"]}}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:"*"}],expressionType:"ungrouped_aggregate",code:"flight_count / all(flight_count) * 100",drillView:"top_destinations"},{type:"number",name:"percentage_of_all_flights_on_all_carriers_to_this_destination",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"field",path:["flight_count"]},right:{node:"exclude",e:{node:"field",path:["flight_count"]},fields:["carrier_name"]}}},right:{node:"numberLiteral",literal:"100"}}},fieldUsage:[{path:["flight_count"]},{path:["flight_count"]}],ungroupings:[{requiresGroupBy:[],fieldUsage:[{path:["flight_count"]}],ungroupedFields:[]}],expressionType:"ungrouped_aggregate",code:"flight_count / exclude(flight_count, carrier_name) * 100",drillView:"top_destinations"}],limit:3,filterList:[{node:"filterCondition",code:"aircraft.aircraft_models.manufacturer = 'BOEING'",e:{node:"=",kids:{left:{node:"field",path:["aircraft","aircraft_models","manufacturer"]},right:{node:"stringLiteral",literal:"BOEING"}}},expressionType:"scalar",fieldUsage:[{path:["aircraft","aircraft_models","manufacturer"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"manufacturer",path:["aircraft","aircraft_models"]},value:{kind:"string_literal",string_value:"BOEING"}},drillView:"top_destinations"}],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}]}],filterList:[{node:"filterCondition",code:"origin.state = 'CA'",e:{node:"=",kids:{left:{node:"field",path:["origin","state"]},right:{node:"stringLiteral",literal:"CA"}}},expressionType:"scalar",fieldUsage:[{path:["origin","state"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"state",path:["origin"]},value:{kind:"string_literal",string_value:"CA"}}}],fieldUsage:[{path:["origin_code"]},{path:["origin","state"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["destination_code"]},{path:["destination","code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}]}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["carriers","nickname"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"seats_by_distance",pipeline:[{type:"reduce",queryFields:[{type:"number",name:"seats",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["aircraft","aircraft_models","seats"]},right:{node:"numberLiteral",literal:"5"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"5"}}},fieldUsage:[{path:["aircraft","aircraft_models","seats"]}],expressionType:"scalar",code:"floor(aircraft.aircraft_models.seats / 5) * 5"},{type:"fieldref",path:["flight_count"]},{type:"number",name:"distance",e:{node:"*",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"/",kids:{left:{node:"field",path:["distance"]},right:{node:"numberLiteral",literal:"20"}}}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"20"}}},fieldUsage:[{path:["distance"]}],expressionType:"scalar",code:"floor(distance / 20) * 20"}],filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","seats"]},{path:["flight_count"]},{path:["distance"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"]},{type:"fieldref",path:["origin","longitude"]},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude"},{type:"fieldref",path:["flight_count"]}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month"},{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["destination","name"]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"measures",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"number",numberType:"integer",name:"dest_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"number",numberType:"integer",name:"origin_count",e:{node:"field",path:["origin","airport_count"]},fieldUsage:[{path:["origin","airport_count"]}],expressionType:"aggregate",code:"origin.airport_count"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"airport_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}]},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}]},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}]}],limit:10,filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"plane_usage",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft_facts","lifetime_flights_bucketed"]},{type:"fieldref",path:["aircraft","aircraft_count"]},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:10},end:{line:148,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_carrier",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"by_carrier"},{type:"fieldref",path:["flight_count"],drillView:"by_carrier"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"aggregate",function:"count",e:{node:""},structPath:["destination"]},fieldUsage:[],expressionType:"aggregate",code:"destination.count()",drillView:"by_carrier"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:148,character:27},end:{line:148,character:37}}}}],annotation:{inherits:{}},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],orderBy:[{field:"lifetime_flights_bucketed",dir:"desc"}],filterList:[{node:"filterCondition",code:"aircraft.aircraft_count > 1",e:{node:">",kids:{left:{node:"field",path:["aircraft","aircraft_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["aircraft","aircraft_count"]}]}],fieldUsage:[{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["tail_num"]},{path:["aircraft_facts","lifetime_flights_bucketed"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]}],annotation:{}},{type:"turtle",name:"carrier_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count"},{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}]},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}]},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}]}],filterList:[],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"detail",pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["id2"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["aircraft","aircraft_model_code"]}],orderBy:[{field:"dep_time"}],limit:30,filterList:[],fieldUsage:[{path:["id2"]},{path:["dep_time"]},{path:["tail_num"]},{path:["carrier"]},{path:["origin_code"]},{path:["destination_code"]},{path:["distance"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]}]}],annotation:{}},{type:"turtle",name:"kayak",pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}]},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}]}],annotation:{}},{type:"turtle",name:"sessionize",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day"},{type:"fieldref",path:["carrier"]},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"search_index",pipeline:[{type:"index",indexFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination_code"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin_code"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time? @2004-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-02-01 00:00:00",typeDef:{type:"timestamp",timeframe:"month"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]}]}],annotation:{}}],primaryKey:"id2",parameters:{},as:"flights",modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sessionize_delta_southwest:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"flight_date",timeframe:"day",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"day"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.day",drillView:"sessionize"},{type:"fieldref",path:["carrier"],drillView:"sessionize"},{type:"number",numberType:"integer",name:"daily_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"sessionize"},{type:"turtle",name:"per_plane_data",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"per_plane_data"},{type:"number",numberType:"integer",name:"plane_flight_count",e:{node:"field",path:["flight_count"]},fieldUsage:[{path:["flight_count"]}],expressionType:"aggregate",code:"flight_count",drillView:"per_plane_data"},{type:"turtle",name:"flight_legs",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["tail_num"],drillView:"flight_legs"},{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flight_legs"},{type:"fieldref",path:["origin_code"],drillView:"flight_legs"},{type:"string",name:"dest_code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"flight_legs"},{type:"fieldref",path:["dep_delay"],drillView:"flight_legs"},{type:"fieldref",path:["arr_delay"],drillView:"flight_legs"}],orderBy:[{field:"dep_minute"}],filterList:[],fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"per_plane_data"}],limit:20,filterList:[],fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],defaultOrderBy:!0,orderBy:[{field:"plane_flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]}],drillView:"sessionize"}],filterList:[{node:"filterCondition",code:"carrier ? 'WN' | 'DL'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["carrier"]},oneOf:[{node:"stringLiteral",literal:"WN"},{node:"stringLiteral",literal:"DL"}]}},expressionType:"scalar",fieldUsage:[{path:["carrier"]}]},{node:"filterCondition",code:"dep_time ? @2002-03-03",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-03 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2002-03-04 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["flight_count"]},{path:["tail_num"]},{path:["flight_count"]},{path:["tail_num"]},{path:["dep_time"]},{path:["origin_code"]},{path:["destination_code"]},{path:["dep_delay"]},{path:["arr_delay"]},{path:["carrier"]},{path:["dep_time"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_date",dir:"desc"}]}],name:"sessionize_delta_southwest",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},kayak_query_sj_to_la:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"turtle",name:"carriers",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carriers","nickname"],drillView:"carriers"},{type:"fieldref",path:["flight_count"],drillView:"carriers"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"by_hour",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"by_hour"},{type:"fieldref",path:["flight_count"],drillView:"by_hour"}],orderBy:[{field:"dep_hour"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"kayak"},{type:"turtle",name:"flights",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_minute",timeframe:"minute",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"minute"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.minute",drillView:"flights"},{type:"fieldref",path:["carriers","name"],drillView:"flights"},{type:"fieldref",path:["flight_num"],drillView:"flights"},{type:"fieldref",path:["origin_code"],drillView:"flights"},{type:"fieldref",path:["destination_code"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"flights"},{type:"fieldref",path:["aircraft","aircraft_models","model"],drillView:"flights"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],defaultOrderBy:!0,orderBy:[{field:"dep_minute",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]}],drillView:"kayak"}],filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]},{node:"filterCondition",code:"destination.code ? 'LAX' | 'BUR'",e:{node:"in",not:!1,kids:{e:{node:"field",path:["destination","code"]},oneOf:[{node:"stringLiteral",literal:"LAX"},{node:"stringLiteral",literal:"BUR"}]}},expressionType:"scalar",fieldUsage:[{path:["destination","code"]}]},{node:"filterCondition",code:"dep_time ? @2004-01-01",e:{node:"and",kids:{left:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}},right:{node:"<",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-02 00:00:00",typeDef:{type:"timestamp",timeframe:"day"}}}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]},{path:["dep_time"]}]}],fieldUsage:[{path:["carrier"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["carrier"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","name"]},{path:["flight_num"]},{path:["origin_code"]},{path:["destination_code"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","model"]},{path:["origin_code"]},{path:["origin","code"]},{path:["destination_code"]},{path:["destination","code"]},{path:["dep_time"]},{path:["dep_time"]}]}],name:"kayak_query_sj_to_la",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},southwest_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Southwest'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Southwest"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"southwest_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},jetblue_dashbaord:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"carrier_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"carrier_dashboard"},{type:"turtle",name:"by_manufacturer",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["aircraft","aircraft_models","manufacturer"],drillView:"by_manufacturer"},{type:"fieldref",path:["aircraft","aircraft_count"],drillView:"by_manufacturer"},{type:"fieldref",path:["flight_count"],drillView:"by_manufacturer"}],limit:5,filterList:[],fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"aircraft_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:156,character:10},end:{line:156,character:25}}}}],annotation:{inherits:{}},fieldUsage:[{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"by_month"},{type:"fieldref",path:["flight_count"],drillView:"by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"hubs",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"hub",e:{node:"field",path:["origin","name"]},fieldUsage:[{path:["origin","name"]}],expressionType:"scalar",code:"origin.name",drillView:"hubs"},{type:"number",numberType:"integer",name:"destination_count",e:{node:"field",path:["destination","airport_count"]},fieldUsage:[{path:["destination","airport_count"]}],expressionType:"aggregate",code:"destination.airport_count",drillView:"hubs"}],limit:10,filterList:[{node:"filterCondition",code:"destination.airport_count > 1",e:{node:">",kids:{left:{node:"field",path:["destination","airport_count"]},right:{node:"numberLiteral",literal:"1"}}},expressionType:"aggregate",fieldUsage:[{path:["destination","airport_count"]}],drillView:"hubs"}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]}],drillView:"carrier_dashboard"},{type:"turtle",name:"origin_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["origin_code"]},fieldUsage:[{path:["origin_code"]}],expressionType:"scalar",code:"origin_code",drillView:"origin_dashboard"},{type:"string",name:"origin",e:{node:"field",path:["origin","full_name"]},fieldUsage:[{path:["origin","full_name"]}],expressionType:"scalar",code:"origin.full_name",drillView:"origin_dashboard"},{type:"fieldref",path:["origin","city"],drillView:"origin_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"origin_dashboard"},{type:"turtle",name:"destinations_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"destinations_by_month"},{type:"fieldref",path:["flight_count"],drillView:"destinations_by_month"},{type:"fieldref",path:["destination","name"],drillView:"destinations_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:175,character:8},end:{line:175,character:29}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]}],drillView:"origin_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:176,character:8},end:{line:176,character:18}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"origin_dashboard"},{type:"turtle",name:"year_over_year",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_month",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"month(dep_time)",drillView:"year_over_year"},{type:"fieldref",path:["flight_count"],drillView:"year_over_year"},{type:"timestamp",name:"dep_year",timeframe:"year",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"year"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.year",drillView:"year_over_year"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:177,character:8},end:{line:177,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"origin_dashboard"}],limit:10,filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]}],drillView:"carrier_dashboard"}],filterList:[{node:"filterCondition",code:"carriers.nickname ? 'Jetblue'",e:{node:"=",kids:{left:{node:"field",path:["carriers","nickname"]},right:{node:"stringLiteral",literal:"Jetblue"}}},expressionType:"scalar",fieldUsage:[{path:["carriers","nickname"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination","airport_count"]},{path:["flight_count"]},{path:["aircraft","aircraft_model_code"]},{path:["tail_num"]},{path:["aircraft","aircraft_model_code"]},{path:["aircraft","aircraft_models","manufacturer"]},{path:["tail_num"]},{path:["aircraft","aircraft_count"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["origin_code"]},{path:["destination_code"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["origin_code"]},{path:["origin","name"]},{path:["destination_code"]},{path:["destination","airport_count"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","full_name"]},{path:["origin_code"]},{path:["origin","city"]},{path:["flight_count"]},{path:["destination_code"]},{path:["dep_time"]},{path:["flight_count"]},{path:["destination_code"]},{path:["destination","name"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_time"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"destination_count",dir:"desc"}]}],name:"jetblue_dashbaord",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sjc_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SJC'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SJC"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sjc_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},sfo_dashboard:{type:"query",structRef:"flights",sourceArguments:{},pipeline:[{type:"reduce",queryFields:[{type:"string",name:"code",e:{node:"field",path:["destination_code"]},fieldUsage:[{path:["destination_code"]}],expressionType:"scalar",code:"destination_code",drillView:"airport_dashboard"},{type:"string",name:"destination",e:{node:"field",path:["destination","full_name"]},fieldUsage:[{path:["destination","full_name"]}],expressionType:"scalar",code:"destination.full_name",drillView:"airport_dashboard"},{type:"fieldref",path:["flight_count"],drillView:"airport_dashboard"},{type:"turtle",name:"carriers_by_month",pipeline:[{type:"reduce",queryFields:[{type:"timestamp",name:"dep_month",timeframe:"month",e:{node:"trunc",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"month"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"dep_time.month",drillView:"carriers_by_month"},{type:"fieldref",path:["flight_count"],drillView:"carriers_by_month"},{type:"fieldref",path:["carriers","nickname"],drillView:"carriers_by_month"}],filterList:[],fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],defaultOrderBy:!0,orderBy:[{field:"dep_month",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:138,character:6},end:{line:138,character:23}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]}],drillView:"airport_dashboard"},{type:"turtle",name:"routes_map",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["origin","latitude"],drillView:"routes_map"},{type:"fieldref",path:["origin","longitude"],drillView:"routes_map"},{type:"number",numberType:"float",name:"latitude2",e:{node:"field",path:["destination","latitude"]},fieldUsage:[{path:["destination","latitude"]}],expressionType:"scalar",code:"destination.latitude",drillView:"routes_map"},{type:"number",numberType:"float",name:"longitude2",e:{node:"field",path:["destination","longitude"]},fieldUsage:[{path:["destination","longitude"]}],expressionType:"scalar",code:"destination.longitude",drillView:"routes_map"},{type:"fieldref",path:["flight_count"],drillView:"routes_map"}],filterList:[],fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:139,character:6},end:{line:139,character:16}}}}],annotation:{inherits:{}},fieldUsage:[{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]}],drillView:"airport_dashboard"},{type:"turtle",name:"delays_by_hour_of_day",pipeline:[{type:"reduce",queryFields:[{type:"number",numberType:"integer",name:"dep_hour",e:{node:"extract",e:{node:"field",path:["dep_time"],typeDef:{type:"timestamp"}},units:"hour"},fieldUsage:[{path:["dep_time"]}],expressionType:"scalar",code:"hour(dep_time)",drillView:"delays_by_hour_of_day"},{type:"fieldref",path:["flight_count"],drillView:"delays_by_hour_of_day"},{type:"number",name:"delay",e:{node:"*",kids:{left:{node:"/",kids:{left:{node:"function_call",overload:{returnType:{type:"number",expressionType:"scalar",evalSpace:"input"},params:[{name:"value",allowedTypes:[{type:"number",evalSpace:"input"}],isVariadic:!1}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"function_parameter",name:"value"}]},src:["FLOOR(",")"]}}}},name:"floor",kids:{args:[{node:"field",path:["dep_delay"]}]},expressionType:"scalar"},right:{node:"numberLiteral",literal:"30"}}},right:{node:"numberLiteral",literal:"30"}}},fieldUsage:[{path:["dep_delay"]}],expressionType:"scalar",code:"floor(dep_delay) / 30 * 30",drillView:"delays_by_hour_of_day"}],filterList:[{node:"filterCondition",code:"dep_delay > 30",e:{node:">",kids:{left:{node:"field",path:["dep_delay"]},right:{node:"numberLiteral",literal:"30"}}},expressionType:"scalar",fieldUsage:[{path:["dep_delay"]}],drillView:"delays_by_hour_of_day"}],fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/flights.malloy",range:{start:{line:140,character:6},end:{line:140,character:27}}}}],annotation:{inherits:{}},fieldUsage:[{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]}],drillView:"airport_dashboard"}],limit:10,filterList:[{node:"filterCondition",code:"origin.code ? 'SFO'",e:{node:"=",kids:{left:{node:"field",path:["origin","code"]},right:{node:"stringLiteral",literal:"SFO"}}},expressionType:"scalar",fieldUsage:[{path:["origin","code"]}]}],fieldUsage:[{path:["destination_code"]},{path:["destination_code"]},{path:["destination","full_name"]},{path:["flight_count"]},{path:["carrier"]},{path:["dep_time"]},{path:["flight_count"]},{path:["carrier"]},{path:["carriers","nickname"]},{path:["destination_code"]},{path:["origin_code"]},{path:["origin_code"]},{path:["origin","latitude"]},{path:["origin_code"]},{path:["origin","longitude"]},{path:["destination_code"]},{path:["destination","latitude"]},{path:["destination_code"]},{path:["destination","longitude"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["flight_count"]},{path:["dep_delay"]},{path:["origin_code"]},{path:["origin","code"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],name:"sfo_dashboard",annotation:{},modelAnnotation:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"}},airports:{type:"table",name:"duckdb:../data/airports.parquet",dialect:"duckdb",tablePath:"../data/airports.parquet",connection:"duckdb",fields:[{type:"number",numberType:"integer",name:"id",fieldUsage:[{path:["id"]}]},{type:"string",name:"code",fieldUsage:[{path:["code"]}]},{type:"string",name:"site_number",fieldUsage:[{path:["site_number"]}]},{type:"string",name:"fac_type",fieldUsage:[{path:["fac_type"]}]},{type:"string",name:"fac_use",fieldUsage:[{path:["fac_use"]}]},{type:"string",name:"faa_region",fieldUsage:[{path:["faa_region"]}]},{type:"string",name:"faa_dist",fieldUsage:[{path:["faa_dist"]}]},{type:"string",name:"city",fieldUsage:[{path:["city"]}]},{type:"string",name:"county",fieldUsage:[{path:["county"]}]},{type:"string",name:"state",fieldUsage:[{path:["state"]}]},{type:"string",name:"full_name",fieldUsage:[{path:["full_name"]}]},{type:"string",name:"own_type",fieldUsage:[{path:["own_type"]}]},{type:"number",numberType:"float",name:"longitude",fieldUsage:[{path:["longitude"]}]},{type:"number",numberType:"float",name:"latitude",fieldUsage:[{path:["latitude"]}]},{type:"number",numberType:"integer",name:"elevation",fieldUsage:[{path:["elevation"]}]},{type:"string",name:"aero_cht",fieldUsage:[{path:["aero_cht"]}]},{type:"number",numberType:"integer",name:"cbd_dist",fieldUsage:[{path:["cbd_dist"]}]},{type:"string",name:"cbd_dir",fieldUsage:[{path:["cbd_dir"]}]},{type:"string",name:"act_date",fieldUsage:[{path:["act_date"]}]},{type:"string",name:"cert",fieldUsage:[{path:["cert"]}]},{type:"string",name:"fed_agree",fieldUsage:[{path:["fed_agree"]}]},{type:"string",name:"cust_intl",fieldUsage:[{path:["cust_intl"]}]},{type:"string",name:"c_ldg_rts",fieldUsage:[{path:["c_ldg_rts"]}]},{type:"string",name:"joint_use",fieldUsage:[{path:["joint_use"]}]},{type:"string",name:"mil_rts",fieldUsage:[{path:["mil_rts"]}]},{type:"string",name:"cntl_twr",fieldUsage:[{path:["cntl_twr"]}]},{type:"string",name:"major",fieldUsage:[{path:["major"]}]},{type:"number",numberType:"integer",name:"airport_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["code"]},{node:"stringLiteral",literal:" - "},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["code"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(code, ' - ', full_name)"},{type:"string",name:"faa_region_name",e:{node:"case",kids:{caseWhen:[{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASW"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANM"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AEA"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ASO"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AGL"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ACE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"ANE"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AWP"}}},{node:"=",kids:{left:{node:"field",path:["faa_region"]},right:{node:"stringLiteral",literal:"AAL"}}}],caseThen:[{node:"stringLiteral",literal:"Southwest"},{node:"stringLiteral",literal:"Northwest Mountain"},{node:"stringLiteral",literal:"Eastern"},{node:"stringLiteral",literal:"Southern"},{node:"stringLiteral",literal:"Great Lakes"},{node:"stringLiteral",literal:"Central"},{node:"stringLiteral",literal:"New England"},{node:"stringLiteral",literal:"Western Pacific"},{node:"stringLiteral",literal:"Alaska"}],caseElse:{node:"field",path:["faa_region"]}}},fieldUsage:[{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]},{path:["faa_region"]}],expressionType:"scalar",code:"faa_region ?\n    pick 'Southwest' when 'ASW'\n    pick 'Northwest Mountain' when 'ANM'\n    pick 'Eastern' when 'AEA'\n    pick 'Southern' when 'ASO'\n    pick 'Great Lakes' when 'AGL'\n    pick 'Central' when 'ACE'\n    pick 'New England' when 'ANE'\n    pick 'Western Pacific' when 'AWP'\n    pick 'Alaska' when 'AAL'"},{type:"turtle",name:"by_region",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"]},{type:"fieldref",path:["faa_region_name"]},{type:"fieldref",path:["airport_count"]}],filterList:[],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"]},{type:"fieldref",path:["airport_count"]}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}]}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"]},{type:"fieldref",path:["airport_count"]},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{}},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}}}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}]}],annotation:{}},{type:"turtle",name:"airports_by_region_dashboard",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["faa_region"],drillView:"by_region"},{type:"fieldref",path:["faa_region_name"],drillView:"by_region"},{type:"fieldref",path:["airport_count"],drillView:"by_region"},{type:"turtle",name:"by_state",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["state"],drillView:"by_state"},{type:"fieldref",path:["airport_count"],drillView:"by_state"}],filterList:[{node:"filterCondition",code:"state is not null",e:{node:"is-not-null",e:{node:"field",path:["state"]}},expressionType:"scalar",fieldUsage:[{path:["state"]}],drillView:"by_state"}],fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:47,character:6},end:{line:47,character:14}}}}],annotation:{notes:[{text:"# shape_map\n"}],inherits:{}},fieldUsage:[{path:["state"]},{path:["state"]},{path:["airport_count"]}]},{type:"turtle",name:"by_facility_type",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["fac_type"],drillView:"by_facility_type"},{type:"fieldref",path:["airport_count"],drillView:"by_facility_type"},{type:"number",numberType:"integer",name:"avg_elevation",e:{node:"aggregate",function:"avg",e:{node:"field",path:["elevation"]}},fieldUsage:[{path:["elevation"]}],expressionType:"aggregate",code:"elevation.avg()",drillView:"by_facility_type"}],filterList:[],fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:48,character:6},end:{line:48,character:22}}}}],annotation:{inherits:{}},fieldUsage:[{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]}]},{type:"turtle",name:"major_airports",pipeline:[{type:"reduce",queryFields:[{type:"string",name:"name",e:{node:"function_call",overload:{returnType:{type:"string",expressionType:"scalar",evalSpace:"input"},params:[{name:"values",allowedTypes:[{type:"string",evalSpace:"input"},{type:"number",evalSpace:"input"},{type:"date",evalSpace:"input"},{type:"timestamp",evalSpace:"input"},{type:"boolean",evalSpace:"input"}],isVariadic:!0}],dialect:{postgres:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},standardsql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},duckdb:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},snowflake:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}},trino:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},presto:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"CAST(",suffix:"AS VARCHAR)"}]},src:["CONCAT(",")"]}},mysql:{e:{node:"genericSQLExpr",kids:{args:[{node:"spread",e:{node:"function_parameter",name:"values"},prefix:"",suffix:""}]},src:["CONCAT(",")"]}}}},name:"concat",kids:{args:[{node:"field",path:["state"]},{node:"stringLiteral",literal:"-"},{node:"field",path:["full_name"]}]},expressionType:"scalar"},fieldUsage:[{path:["state"]},{path:["full_name"]}],expressionType:"scalar",code:"concat(state, '-', full_name)",drillView:"major_airports"}],filterList:[{node:"filterCondition",code:"major = 'Y'",e:{node:"=",kids:{left:{node:"field",path:["major"]},right:{node:"stringLiteral",literal:"Y"}}},expressionType:"scalar",fieldUsage:[{path:["major"]}],stableFilter:{kind:"literal_equality",field_reference:{name:"major",path:[]},value:{kind:"string_literal",string_value:"Y"}},drillView:"major_airports"}],fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"name",dir:"asc"}],referencedAt:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/airports.malloy",range:{start:{line:49,character:6},end:{line:49,character:20}}}}],annotation:{inherits:{}},fieldUsage:[{path:["major"]},{path:["state"]},{path:["full_name"]}]}],filterList:[{node:"filterCondition",code:"faa_region is not null",e:{node:"is-not-null",e:{node:"field",path:["faa_region"]}},expressionType:"scalar",fieldUsage:[{path:["faa_region"]}]}],fieldUsage:[{path:["faa_region"]},{path:["faa_region_name"]},{path:["airport_count"]},{path:["faa_region"]},{path:["state"]},{path:["state"]},{path:["airport_count"]},{path:["fac_type"]},{path:["airport_count"]},{path:["elevation"]},{path:["major"]},{path:["state"]},{path:["full_name"]}],defaultOrderBy:!0,orderBy:[{field:"airport_count",dir:"desc"}]}],annotation:{inherits:{}}}],primaryKey:"code",parameters:{},as:"airports",modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"}},flights4:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]},{type:"turtle",name:"top_destinations",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["destination"]},{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],filterList:[],fieldUsage:[{path:["destination"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{}}],parameters:{},as:"flights4",modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"}}},queryList:[{type:"query",structRef:{type:"table",name:"duckdb:../data/flights.parquet",dialect:"duckdb",tablePath:"../data/flights.parquet",connection:"duckdb",fields:[{type:"string",name:"carrier",fieldUsage:[{path:["carrier"]}]},{type:"string",name:"origin",fieldUsage:[{path:["origin"]}]},{type:"string",name:"destination",fieldUsage:[{path:["destination"]}]},{type:"string",name:"flight_num",fieldUsage:[{path:["flight_num"]}]},{type:"number",numberType:"integer",name:"flight_time",fieldUsage:[{path:["flight_time"]}]},{type:"string",name:"tail_num",fieldUsage:[{path:["tail_num"]}]},{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},{type:"timestamp",name:"arr_time",fieldUsage:[{path:["arr_time"]}]},{type:"number",numberType:"integer",name:"dep_delay",fieldUsage:[{path:["dep_delay"]}]},{type:"number",numberType:"integer",name:"arr_delay",fieldUsage:[{path:["arr_delay"]}]},{type:"number",numberType:"integer",name:"taxi_out",fieldUsage:[{path:["taxi_out"]}]},{type:"number",numberType:"integer",name:"taxi_in",fieldUsage:[{path:["taxi_in"]}]},{type:"number",numberType:"integer",name:"distance",fieldUsage:[{path:["distance"]}]},{type:"string",name:"cancelled",fieldUsage:[{path:["cancelled"]}]},{type:"string",name:"diverted",fieldUsage:[{path:["diverted"]}]},{type:"number",numberType:"integer",name:"id2",fieldUsage:[{path:["id2"]}]}],modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"}},pipeline:[{type:"project",queryFields:[{type:"fieldref",path:["arr_delay"]},{type:"fieldref",path:["arr_time"]},{type:"fieldref",path:["cancelled"]},{type:"fieldref",path:["carrier"]},{type:"fieldref",path:["dep_delay"]},{type:"fieldref",path:["dep_time"]},{type:"fieldref",path:["destination"]},{type:"fieldref",path:["distance"]},{type:"fieldref",path:["diverted"]},{type:"fieldref",path:["flight_num"]},{type:"fieldref",path:["flight_time"]},{type:"fieldref",path:["id2"]},{type:"fieldref",path:["origin"]},{type:"fieldref",path:["tail_num"]},{type:"fieldref",path:["taxi_in"]},{type:"fieldref",path:["taxi_out"]}],filterList:[{node:"filterCondition",code:"dep_time > @2003",e:{node:">=",kids:{left:{node:"field",path:["dep_time"]},right:{node:"timeLiteral",literal:"2004-01-01 00:00:00",typeDef:{type:"timestamp",timeframe:"year"}}}},expressionType:"scalar",fieldUsage:[{path:["dep_time"]}]}],fieldUsage:[{path:["arr_delay"]},{path:["arr_time"]},{path:["cancelled"]},{path:["carrier"]},{path:["dep_delay"]},{path:["dep_time"]},{path:["destination"]},{path:["distance"]},{path:["diverted"]},{path:["flight_num"]},{path:["flight_time"]},{path:["id2"]},{path:["origin"]},{path:["tail_num"]},{path:["taxi_in"]},{path:["taxi_out"]},{path:["dep_time"]}]},{type:"reduce",queryFields:[{type:"fieldref",path:["flight_count"]},{type:"turtle",name:"main_view",pipeline:[{type:"reduce",queryFields:[{type:"fieldref",path:["carrier"],drillView:"main_view"},{type:"fieldref",path:["flight_count"],drillView:"main_view"}],filterList:[],fieldUsage:[{path:["carrier"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]}],annotation:{},fieldUsage:[{path:["carrier"]},{path:["flight_count"]}]}],extendSource:[{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"}],filterList:[],fieldUsage:[{path:["flight_count"]},{path:["carrier"]},{path:["flight_count"]}],defaultOrderBy:!0,orderBy:[{field:"flight_count",dir:"desc"}]},{type:"project",queryFields:[{type:"fieldref",path:["main_view","carrier"]},{type:"fieldref",path:["main_view","flight_count"]},{type:"number",name:"flight_count_as_a_percent_of_total",e:{node:"/",kids:{left:{node:"field",path:["main_view","flight_count"]},right:{node:"field",path:["flight_count"]}}},fieldUsage:[{path:["main_view","flight_count"]},{path:["flight_count"]}],expressionType:"scalar",code:"main_view.flight_count / flight_count",annotation:{notes:[{text:"# percent\n"}]}}],filterList:[],fieldUsage:[{path:["main_view","carrier"]},{path:["main_view","flight_count"]},{path:["main_view","flight_count"]},{path:["flight_count"]}]}],modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"}}],dependencies:{},annotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n"}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n"}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},references:[{type:"fieldReference",definition:{type:"timestamp",name:"dep_time",fieldUsage:[{path:["dep_time"]}]},text:"dep_time"},{type:"fieldReference",definition:{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},text:"flight_count"},{type:"fieldReference",definition:{name:"carrier",type:"string",resultMetadata:{sourceField:"carrier",sourceClasses:["carrier"],referenceId:"fcb3c04b-5934-4535-af6a-c67d52f57f5e",fieldKind:"dimension"}},text:"carrier"},{type:"fieldReference",definition:{type:"number",numberType:"integer",name:"flight_count",e:{node:"aggregate",function:"count",e:{node:""}},fieldUsage:[],expressionType:"aggregate",code:"count()"},text:"flight_count"},{type:"joinReference",definition:{type:"array",name:"main_view",fields:[{name:"carrier",type:"string",resultMetadata:{sourceField:"carrier",sourceClasses:["carrier"],referenceId:"cae17f9d-518e-43de-906b-3d0564031803",fieldKind:"dimension"},drillView:"main_view"},{name:"flight_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"flight_count",sourceExpression:"count()",sourceClasses:["flight_count"],referenceId:"d97116d6-fe0b-4eaa-bb7e-aa5dfcf5e957",filterList:[],fieldKind:"measure"},drillView:"main_view"}],dialect:"duckdb",connection:"duckdb",resultMetadata:{sourceField:"main_view",filterList:[],sourceClasses:["main_view"],fieldKind:"struct",orderBy:[{field:"flight_count",dir:"desc"}],drillable:!0},annotation:{},elementTypeDef:{type:"record_element"},join:"many"},text:"main_view"},{type:"fieldReference",definition:{name:"carrier",type:"string",resultMetadata:{sourceField:"carrier",sourceClasses:["carrier"],referenceId:"cae17f9d-518e-43de-906b-3d0564031803",fieldKind:"dimension"},drillView:"main_view"},text:"carrier"},{type:"joinReference",definition:{type:"array",name:"main_view",fields:[{name:"carrier",type:"string",resultMetadata:{sourceField:"carrier",sourceClasses:["carrier"],referenceId:"cae17f9d-518e-43de-906b-3d0564031803",fieldKind:"dimension"},drillView:"main_view"},{name:"flight_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"flight_count",sourceExpression:"count()",sourceClasses:["flight_count"],referenceId:"d97116d6-fe0b-4eaa-bb7e-aa5dfcf5e957",filterList:[],fieldKind:"measure"},drillView:"main_view"}],dialect:"duckdb",connection:"duckdb",resultMetadata:{sourceField:"main_view",filterList:[],sourceClasses:["main_view"],fieldKind:"struct",orderBy:[{field:"flight_count",dir:"desc"}],drillable:!0},annotation:{},elementTypeDef:{type:"record_element"},join:"many"},text:"main_view"},{type:"fieldReference",definition:{name:"flight_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"flight_count",sourceExpression:"count()",sourceClasses:["flight_count"],referenceId:"d97116d6-fe0b-4eaa-bb7e-aa5dfcf5e957",filterList:[],fieldKind:"measure"},drillView:"main_view"},text:"flight_count"},{type:"joinReference",definition:{type:"array",name:"main_view",fields:[{name:"carrier",type:"string",resultMetadata:{sourceField:"carrier",sourceClasses:["carrier"],referenceId:"cae17f9d-518e-43de-906b-3d0564031803",fieldKind:"dimension"},drillView:"main_view"},{name:"flight_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"flight_count",sourceExpression:"count()",sourceClasses:["flight_count"],referenceId:"d97116d6-fe0b-4eaa-bb7e-aa5dfcf5e957",filterList:[],fieldKind:"measure"},drillView:"main_view"}],dialect:"duckdb",connection:"duckdb",resultMetadata:{sourceField:"main_view",filterList:[],sourceClasses:["main_view"],fieldKind:"struct",orderBy:[{field:"flight_count",dir:"desc"}],drillable:!0},annotation:{},elementTypeDef:{type:"record_element"},join:"many"},text:"main_view"},{type:"fieldReference",definition:{name:"flight_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"flight_count",sourceExpression:"count()",sourceClasses:["flight_count"],referenceId:"d97116d6-fe0b-4eaa-bb7e-aa5dfcf5e957",filterList:[],fieldKind:"measure"},drillView:"main_view"},text:"flight_count"},{type:"fieldReference",definition:{name:"flight_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"flight_count",sourceExpression:"count()",sourceClasses:["flight_count"],referenceId:"d97116d6-fe0b-4eaa-bb7e-aa5dfcf5e957",filterList:[],fieldKind:"measure"}},text:"flight_count"},{type:"joinReference",definition:{type:"array",name:"main_view",fields:[{name:"carrier",type:"string",resultMetadata:{sourceField:"carrier",sourceClasses:["carrier"],referenceId:"cae17f9d-518e-43de-906b-3d0564031803",fieldKind:"dimension"},drillView:"main_view"},{name:"flight_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"flight_count",sourceExpression:"count()",sourceClasses:["flight_count"],referenceId:"d97116d6-fe0b-4eaa-bb7e-aa5dfcf5e957",filterList:[],fieldKind:"measure"},drillView:"main_view"}],dialect:"duckdb",connection:"duckdb",resultMetadata:{sourceField:"main_view",filterList:[],sourceClasses:["main_view"],fieldKind:"struct",orderBy:[{field:"flight_count",dir:"desc"}],drillable:!0},annotation:{},elementTypeDef:{type:"record_element"},join:"many"},text:"main_view"}],imports:[]},t.queryResult={lastStageName:"__stage3",malloy:"",sql:'WITH __stage0 AS (\n  SELECT \n     base."arr_delay" as "arr_delay",\n     base."arr_time" as "arr_time",\n     base."cancelled" as "cancelled",\n     base."carrier" as "carrier",\n     base."dep_delay" as "dep_delay",\n     base."dep_time" as "dep_time",\n     base."destination" as "destination",\n     base."distance" as "distance",\n     base."diverted" as "diverted",\n     base."flight_num" as "flight_num",\n     base."flight_time" as "flight_time",\n     base."id2" as "id2",\n     base."origin" as "origin",\n     base."tail_num" as "tail_num",\n     base."taxi_in" as "taxi_in",\n     base."taxi_out" as "taxi_out"\n  FROM \'../data/flights.parquet\' as base\n  WHERE base."dep_time">=TIMESTAMP \'2004-01-01 00:00:00\'\n)\n, __stage1 AS (\n  SELECT\n    group_set,\n    CASE WHEN group_set=0 THEN\n      COUNT(1)\n      END as "flight_count__0",\n    CASE WHEN group_set=1 THEN\n      base."carrier"\n      END as "carrier__1",\n    CASE WHEN group_set=1 THEN\n      COUNT(1)\n      END as "flight_count__1"\n  FROM __stage0 as base\n  CROSS JOIN (SELECT UNNEST(GENERATE_SERIES(0,1,1)) as group_set  ) as group_set\n  GROUP BY 1,3\n)\n, __stage2 AS (\n  SELECT\n    MAX(CASE WHEN group_set=0 THEN "flight_count__0" END) as "flight_count",\n    COALESCE(LIST({\n      "carrier": "carrier__1", \n      "flight_count": "flight_count__1"}  ORDER BY  "flight_count__1" desc NULLS LAST) FILTER (WHERE group_set=1),[]) as "main_view"\n  FROM __stage1\n)\nSELECT \n   main_view_0."carrier" as "carrier",\n   main_view_0."flight_count" as "flight_count",\n   main_view_0."flight_count"*1.0/base."flight_count" as "flight_count_as_a_percent_of_total"\nFROM __stage2 as base\nLEFT JOIN LATERAL (SELECT UNNEST(base."main_view"), 1 as ignoreme) as main_view_0_outer(main_view_0,ignoreme) ON main_view_0_outer.ignoreme=1\n',dependenciesToMaterialize:{},structs:[{type:"query_result",name:"__stage3",fields:[{name:"carrier",type:"string",resultMetadata:{sourceField:"main_view.carrier",sourceClasses:["main_view.carrier"],referenceId:"d97b40fc-cc69-4f53-911b-47f2ae52d432",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:5},end:{line:0,character:44}}},drillView:"main_view"},{name:"flight_count",numberType:"integer",type:"number",resultMetadata:{sourceField:"main_view.flight_count",sourceClasses:["main_view.flight_count"],referenceId:"5332ee72-af5e-46a6-b0f7-eeedbd83845e",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:5,character:21},end:{line:5,character:44}}},drillView:"main_view"},{name:"flight_count_as_a_percent_of_total",type:"number",resultMetadata:{sourceField:"flight_count_as_a_percent_of_total",sourceExpression:"main_view.flight_count / flight_count",sourceClasses:["flight_count_as_a_percent_of_total"],referenceId:"60ce184c-e7fa-49d7-83c9-a159f8f40f66",fieldKind:"dimension"},location:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:15,character:4},end:{line:16,character:79}}},annotation:{notes:[{text:"# percent\n",at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:15,character:4},end:{line:15,character:14}}}}]}}],dialect:"duckdb",connection:"duckdb",resultMetadata:{sourceField:"~computeLastStage~",filterList:[],sourceClasses:["~computeLastStage~"],fieldKind:"struct",drillable:!0},modelAnnotation:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{inherits:{notes:[{text:"##(docs) hidden\n",at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:0},end:{line:0,character:16}}}}],id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},id:"b37a9344-df08-57ac-94cc-ab87097f2cf4"},notes:[{text:"##(docs) hidden\n",at:{url:"file:///home/runner/work/malloydata.github.io/malloydata.github.io/src/documentation/language/views.malloynb",range:{start:{line:0,character:0},end:{line:0,character:16}}}}],id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"},id:"ac3605c3-532f-5ecd-9963-20a633ac308f"}}],sourceExplore:"duckdb:../data/flights.parquet",connectionName:"duckdb",result:[{carrier:"WN",flight_count:32189,flight_count_as_a_percent_of_total:.22961636682692993},{carrier:"UA",flight_count:13693,flight_count_as_a_percent_of_total:.09767737149216041},{carrier:"US",flight_count:12834,flight_count_as_a_percent_of_total:.09154979812534775},{carrier:"NW",flight_count:12175,flight_count_as_a_percent_of_total:.08684890074615154},{carrier:"RU",flight_count:12063,flight_count_as_a_percent_of_total:.08604996219308633}],totalRows:5},e.appendChild(t)})();</script>
      </div>
    </div>
    <div class="result-middle" data-result-kind="json" >
      <div class="result-inner">
        <pre><pre class="language-json" style="background-color: #FBFBFB"><span class="line"><span style="color: #000000">[</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;WN&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">32189</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count_as_a_percent_of_total&quot;</span><span style="color: #000000">: </span><span style="color: #098658">0.22961636682692993</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;UA&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">13693</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count_as_a_percent_of_total&quot;</span><span style="color: #000000">: </span><span style="color: #098658">0.09767737149216041</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;US&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">12834</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count_as_a_percent_of_total&quot;</span><span style="color: #000000">: </span><span style="color: #098658">0.09154979812534775</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;NW&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">12175</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count_as_a_percent_of_total&quot;</span><span style="color: #000000">: </span><span style="color: #098658">0.08684890074615154</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;RU&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #098658">12063</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;flight_count_as_a_percent_of_total&quot;</span><span style="color: #000000">: </span><span style="color: #098658">0.08604996219308633</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">]</span></span></pre></pre>
      </div>
    </div>
    <div class="result-middle" data-result-kind="sql" >
      <div class="result-inner">
        <pre><pre class="language-sql" style="background-color: #FBFBFB"><span class="line"><span style="color: #0000FF">WITH</span><span style="color: #000000"> __stage0 </span><span style="color: #0000FF">AS</span><span style="color: #000000"> (</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0000FF">SELECT</span><span style="color: #000000"> </span></span>
<span class="line"><span style="color: #000000">     base.</span><span style="color: #A31515">&quot;arr_delay&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;arr_delay&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">     base.</span><span style="color: #A31515">&quot;arr_time&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;arr_time&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">     base.</span><span style="color: #A31515">&quot;cancelled&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;cancelled&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">     base.</span><span style="color: #A31515">&quot;carrier&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;carrier&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">     base.</span><span style="color: #A31515">&quot;dep_delay&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;dep_delay&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">     base.</span><span style="color: #A31515">&quot;dep_time&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;dep_time&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">     base.</span><span style="color: #A31515">&quot;destination&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;destination&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">     base.</span><span style="color: #A31515">&quot;distance&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;distance&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">     base.</span><span style="color: #A31515">&quot;diverted&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;diverted&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">     base.</span><span style="color: #A31515">&quot;flight_num&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_num&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">     base.</span><span style="color: #A31515">&quot;flight_time&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_time&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">     base.</span><span style="color: #A31515">&quot;id2&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;id2&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">     base.</span><span style="color: #A31515">&quot;origin&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;origin&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">     base.</span><span style="color: #A31515">&quot;tail_num&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;tail_num&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">     base.</span><span style="color: #A31515">&quot;taxi_in&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;taxi_in&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">     base.</span><span style="color: #A31515">&quot;taxi_out&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;taxi_out&quot;</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0000FF">FROM</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;../data/flights.parquet&#39;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> base</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0000FF">WHERE</span><span style="color: #000000"> base.</span><span style="color: #A31515">&quot;dep_time&quot;</span><span style="color: #000000">&gt;=</span><span style="color: #0000FF">TIMESTAMP</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;2004-01-01 00:00:00&#39;</span></span>
<span class="line"><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">, __stage1 </span><span style="color: #0000FF">AS</span><span style="color: #000000"> (</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0000FF">SELECT</span></span>
<span class="line"><span style="color: #000000">    group_set,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">CASE</span><span style="color: #000000"> </span><span style="color: #0000FF">WHEN</span><span style="color: #000000"> group_set=</span><span style="color: #098658">0</span><span style="color: #000000"> </span><span style="color: #0000FF">THEN</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #795E26">COUNT</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0000FF">END</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_count__0&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">CASE</span><span style="color: #000000"> </span><span style="color: #0000FF">WHEN</span><span style="color: #000000"> group_set=</span><span style="color: #098658">1</span><span style="color: #000000"> </span><span style="color: #0000FF">THEN</span></span>
<span class="line"><span style="color: #000000">      base.</span><span style="color: #A31515">&quot;carrier&quot;</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0000FF">END</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;carrier__1&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">CASE</span><span style="color: #000000"> </span><span style="color: #0000FF">WHEN</span><span style="color: #000000"> group_set=</span><span style="color: #098658">1</span><span style="color: #000000"> </span><span style="color: #0000FF">THEN</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #795E26">COUNT</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0000FF">END</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_count__1&quot;</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0000FF">FROM</span><span style="color: #000000"> __stage0 </span><span style="color: #0000FF">as</span><span style="color: #000000"> base</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0000FF">CROSS</span><span style="color: #000000"> </span><span style="color: #0000FF">JOIN</span><span style="color: #000000"> (</span><span style="color: #0000FF">SELECT</span><span style="color: #000000"> UNNEST(GENERATE_SERIES(</span><span style="color: #098658">0</span><span style="color: #000000">,</span><span style="color: #098658">1</span><span style="color: #000000">,</span><span style="color: #098658">1</span><span style="color: #000000">)) </span><span style="color: #0000FF">as</span><span style="color: #000000"> group_set  ) </span><span style="color: #0000FF">as</span><span style="color: #000000"> group_set</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0000FF">GROUP BY</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">,</span><span style="color: #098658">3</span></span>
<span class="line"><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">, __stage2 </span><span style="color: #0000FF">AS</span><span style="color: #000000"> (</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0000FF">SELECT</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #795E26">MAX</span><span style="color: #000000">(</span><span style="color: #0000FF">CASE</span><span style="color: #000000"> </span><span style="color: #0000FF">WHEN</span><span style="color: #000000"> group_set=</span><span style="color: #098658">0</span><span style="color: #000000"> </span><span style="color: #0000FF">THEN</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_count__0&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">END</span><span style="color: #000000">) </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_count&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #795E26">COALESCE</span><span style="color: #000000">(LIST({</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #A31515">&quot;carrier&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;carrier__1&quot;</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #A31515">&quot;flight_count&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;flight_count__1&quot;</span><span style="color: #000000">}  </span><span style="color: #0000FF">ORDER BY</span><span style="color: #000000">  </span><span style="color: #A31515">&quot;flight_count__1&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">desc</span><span style="color: #000000"> NULLS </span><span style="color: #0000FF">LAST</span><span style="color: #000000">) </span><span style="color: #0000FF">FILTER</span><span style="color: #000000"> (</span><span style="color: #0000FF">WHERE</span><span style="color: #000000"> group_set=</span><span style="color: #098658">1</span><span style="color: #000000">),[]) </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;main_view&quot;</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0000FF">FROM</span><span style="color: #000000"> __stage1</span></span>
<span class="line"><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #0000FF">SELECT</span><span style="color: #000000"> </span></span>
<span class="line"><span style="color: #000000">   main_view_0.</span><span style="color: #A31515">&quot;carrier&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;carrier&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   main_view_0.</span><span style="color: #A31515">&quot;flight_count&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_count&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">   main_view_0.</span><span style="color: #A31515">&quot;flight_count&quot;</span><span style="color: #000000">*</span><span style="color: #098658">1</span><span style="color: #000000">.</span><span style="color: #098658">0</span><span style="color: #000000">/base.</span><span style="color: #A31515">&quot;flight_count&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;flight_count_as_a_percent_of_total&quot;</span></span>
<span class="line"><span style="color: #0000FF">FROM</span><span style="color: #000000"> __stage2 </span><span style="color: #0000FF">as</span><span style="color: #000000"> base</span></span>
<span class="line"><span style="color: #0000FF">LEFT JOIN</span><span style="color: #000000"> LATERAL (</span><span style="color: #0000FF">SELECT</span><span style="color: #000000"> UNNEST(base.</span><span style="color: #A31515">&quot;main_view&quot;</span><span style="color: #000000">), </span><span style="color: #098658">1</span><span style="color: #000000"> </span><span style="color: #0000FF">as</span><span style="color: #000000"> ignoreme) </span><span style="color: #0000FF">as</span><span style="color: #000000"> main_view_0_outer(main_view_0,ignoreme) </span><span style="color: #0000FF">ON</span><span style="color: #000000"> main_view_0_outer.ignoreme=</span><span style="color: #098658">1</span></span>
<span class="line"></span></pre></pre>
      </div>
    </div>
  </div></div></div></div>
        </div>
        <script src="/js/view_toggles.js"></script>
        <script src="/js/jump_to_hash.js"></script>
      </div>
    </div>
    <div id="banner_wrapper">
      <div id="banner">
        <div>
          This site uses cookies from Google to deliver its services and to analyze
          traffic.
          <a
            href="https://policies.google.com/technologies/cookies"
            target="_blank"
          >
            Learn more
          </a>
        </div>
        <button id="banner_button">I Understand</button>
      </div>
    </div>
    <script src="/js/banner.js"></script>
    <script src="/js/generated/malloy-render-0.0.282.js"></script>
  </body>
</html>
